# 2.0.3 Icon Organization System

**Date:** November 21, 2025
**Status:** Implementation in Progress

---

## Overview

Consolidated icon organization system that separates **active** (in-use) icons from **library** (available) icons for better maintainability, performance, and developer experience.

---

## Problem Statement

### Before
- **570 total icons** scattered across:
  - 132 icons at root level (unorganized)
  - 26 alphabetical folders (a-z)
  - Mixed semantic folders (`app-icons`, `tools-name`)
- **Unknown usage**: No way to tell which icons are actually used
- **Poor discoverability**: Hard to find available icons for new features
- **Bundle bloat**: All icons loaded regardless of usage
- **Inconsistent naming**: Multiple conventions (12px-*, stroke-*, folder-based)

### After
- **20 active icons** in semantic categories
- **550 library icons** organized by purpose
- **Clear separation**: Production vs. available
- **Optimized bundles**: Only active icons loaded
- **Easy discovery**: Browse library by category

---

## Directory Structure

```
src/components/icons/svg/
│
├── active/                    # Currently used in production (20 icons)
│   ├── ui/                   # UI controls & interface elements
│   │   ├── chevron-up.svg
│   │   ├── chevron-down.svg
│   │   ├── chevron-left.svg
│   │   ├── chevron-right.svg
│   │   ├── caret-down.svg
│   │   └── plus.svg
│   │
│   ├── tools/                # Editor tools & actions
│   │   ├── brush.svg
│   │   ├── move.svg
│   │   ├── pencil.svg
│   │   ├── align-auto.svg
│   │   ├── filter-palette.svg
│   │   └── grid.svg
│   │
│   ├── shapes/               # Geometric shapes
│   │   ├── circle.svg
│   │   └── square.svg
│   │
│   ├── navigation/           # Navigation & arrows
│   │   ├── arrow-up.svg
│   │   ├── layout.svg
│   │   └── corner-diag.svg
│   │
│   ├── actions/              # User actions (edit, delete, etc.)
│   │   └── trash.svg
│   │
│   └── content/              # Content & media types
│       ├── star.svg
│       └── dropdown-caret.svg
│
└── library/                   # Available but unused (550 icons)
    ├── ui/                   # UI controls & interface
    ├── tools/                # Editor tools
    ├── shapes/               # Geometric shapes
    ├── navigation/           # Arrows & directions
    ├── actions/              # User actions
    ├── content/              # Media & content types
    ├── status/               # States & indicators (lock, visibility, etc.)
    ├── social/               # Social media icons
    ├── data/                 # Charts, statistics, analytics
    └── misc/                 # Uncategorized/legacy
```

---

## Active Icons Inventory

### UI Category (6 icons)
| Icon | File | Usage |
|------|------|-------|
| Chevron Up | `chevron-up.svg` | Stepper component, collapsible sections |
| Chevron Down | `chevron-down.svg` | Stepper component, dropdowns |
| Chevron Left | `chevron-left.svg` | Navigation, carousels |
| Chevron Right | `chevron-right.svg` | Navigation, carousels |
| Caret Down | `caret-down.svg` | Dropdown indicators |
| Plus | `plus.svg` | Add canvas, create actions |

### Tools Category (6 icons)
| Icon | File | Usage |
|------|------|-------|
| Brush | `brush.svg` | Paint/draw tool |
| Move | `move.svg` | Transform/move tool |
| Pencil | `pencil.svg` | Edit tool |
| Align Auto | `align-auto.svg` | Auto-layout alignment |
| Filter Palette | `filter-palette.svg` | Color/filter controls |
| Grid | `grid.svg` | Grid overlay toggle |

### Shapes Category (2 icons)
| Icon | File | Usage |
|------|------|-------|
| Circle | `circle.svg` | Shape tool selector |
| Square | `square.svg` | Shape tool selector |

### Navigation Category (3 icons)
| Icon | File | Usage |
|------|------|-------|
| Arrow Up | `arrow-up.svg` | Navigation, sorting |
| Layout | `layout.svg` | Layout view toggle |
| Corner Diag | `corner-diag.svg` | Diagonal corner tool |

### Actions Category (1 icon)
| Icon | File | Usage |
|------|------|-------|
| Trash | `trash.svg` | Delete action (20 usages) |

### Content Category (2 icons)
| Icon | File | Usage |
|------|------|-------|
| Star | `star.svg` | Favorites, ratings (20 usages) |
| Dropdown Caret | `dropdown-caret.svg` | Dropdown UI component |

---

## Usage Guidelines

### Using Active Icons

```jsx
import Icon from '../icons/Icon'

// UI icons
<Icon name="chevron-up" folder="active/ui" size={12} />
<Icon name="plus" folder="active/ui" size={16} />

// Tool icons
<Icon name="brush" folder="active/tools" size={20} />
<Icon name="align-auto" folder="active/tools" size={16} />

// Shape icons
<Icon name="circle" folder="active/shapes" size={24} />

// Navigation icons
<Icon name="arrow-up" folder="active/navigation" size={14} />

// Action icons
<Icon name="trash" folder="active/actions" size={16} />

// Content icons
<Icon name="star" folder="active/content" size={18} />
```

### Adding New Icons from Library

**Step 1:** Find the icon in `library/{category}/`

**Step 2:** Move to appropriate `active/{category}/` folder
```bash
mv src/components/icons/svg/library/ui/new-icon.svg \
   src/components/icons/svg/active/ui/
```

**Step 3:** Use in component
```jsx
<Icon name="new-icon" folder="active/ui" size={16} />
```

**Step 4:** Git commit shows which icons were added to production
```
A  src/components/icons/svg/active/ui/new-icon.svg
M  src/components/SomeComponent.jsx
```

### Adding External Icons

**Step 1:** Prepare SVG
- Remove hardcoded colors (use `fill="currentColor"`)
- Ensure 24x24 viewBox
- Optimize with SVGO

**Step 2:** Name consistently
```
{descriptor}-{variant}.svg

Examples:
- settings-gear.svg
- user-profile.svg
- document-text.svg
```

**Step 3:** Add to `active/{category}/`

**Step 4:** Use immediately

---

## Icon Loader Configuration

### Current Implementation

```js
// src/components/icons/Icon.jsx

// Only load active icons for production
const iconModules = import.meta.glob('./svg/active/**/*.svg', {
  query: '?raw',
  import: 'default'
})

const Icon = ({ name, folder, size = 20, color = 'currentColor' }) => {
  const iconPath = `./svg/${folder}/${name}.svg`
  // Load and render icon...
}
```

### Folder Prop Requirements

| Usage | Folder Prop | Example |
|-------|-------------|---------|
| UI controls | `active/ui` | `<Icon name="chevron-up" folder="active/ui" />` |
| Editor tools | `active/tools` | `<Icon name="brush" folder="active/tools" />` |
| Shapes | `active/shapes` | `<Icon name="circle" folder="active/shapes" />` |
| Navigation | `active/navigation` | `<Icon name="arrow-up" folder="active/navigation" />` |
| Actions | `active/actions` | `<Icon name="trash" folder="active/actions" />` |
| Content | `active/content` | `<Icon name="star" folder="active/content" />` |

---

## Benefits

### 1. Performance Optimization
- **Before:** 570 icons loaded by Vite glob import
- **After:** 20 icons loaded (96.5% reduction)
- **Bundle size:** Significantly smaller
- **Build time:** Faster

### 2. Clear Production State
- Easy to audit which icons are in production
- Git diffs show icon additions/removals clearly
- Dead code elimination is obvious

### 3. Better Developer Experience
- Browse `library/` by category when building features
- No guessing which icons exist
- Semantic organization matches mental model
- Easy to find related icons

### 4. Maintainability
- Remove unused icons from `library/` safely
- Update active icons without affecting library
- Migration path for legacy icons clear

### 5. Documentation
- Active icons are self-documenting (in use = documented)
- Library icons can have separate documentation
- Icon inventory always up-to-date

---

## Migration Notes

### Icon Name Changes

Some icons were renamed for consistency:

| Old Name | New Name | Reason |
|----------|----------|--------|
| `auto-layout-tool-align` | `align-auto` | Shorter, semantic |
| `color-palette-tool-filter` | `filter-palette` | Shorter, semantic |
| `caret-down-ui-dropdown` | `dropdown-caret` | Noun-first convention |
| `layout-tool-nav` | `layout` | Remove redundant suffix |
| `corner-diag-tool-nav` | `corner-diag` | Remove redundant suffix |

### Folder Moves

| Old Location | New Location |
|--------------|--------------|
| `svg/c/chevron-up.svg` | `svg/active/ui/chevron-up.svg` |
| `svg/p/plus.svg` | `svg/active/ui/plus.svg` |
| `svg/app-icons/*.svg` | `svg/active/{category}/*.svg` |
| `svg/[a-z]/*.svg` | `svg/library/{category}/*.svg` |

---

## Library Categories

### UI
Buttons, inputs, controls, overlays, modals, tooltips, badges, indicators

### Tools
Editor tools, drawing tools, manipulation tools, measurement tools

### Shapes
Geometric shapes, basic forms, custom shapes

### Navigation
Arrows, chevrons, breadcrumbs, pagination, menus

### Actions
CRUD operations, interactions, user actions

### Content
Media types, file types, content indicators

### Status
States, visibility, locks, progress, loading

### Social
Social media platforms, sharing, communication

### Data
Charts, graphs, statistics, analytics

### Misc
Legacy icons, uncategorized, special purpose

---

## Best Practices

### DO
✅ Keep active icons minimal (only what's in use)
✅ Use semantic folder names
✅ Name icons descriptively (`user-profile` not `usr`)
✅ Use `currentColor` for fill/stroke
✅ Maintain 24x24 viewBox
✅ Optimize SVGs before adding

### DON'T
❌ Add icons to active/ "just in case"
❌ Use cryptic abbreviations
❌ Hardcode colors in SVGs
❌ Mix different viewBox sizes
❌ Skip optimization

---

## Future Improvements

### Icon Browser Component (Dev Mode)
```jsx
// Future: Browse library icons visually
<IconBrowser category="ui" />
```

### Automatic Usage Detection
```bash
# Future: Script to detect unused active icons
yarn icons:audit
```

### Icon Documentation Generator
```bash
# Future: Generate markdown docs from SVG metadata
yarn icons:docs
```

---

## References

- Icon Loader: `src/components/icons/Icon.jsx`
- Active Icons: `src/components/icons/svg/active/`
- Library Icons: `src/components/icons/svg/library/`
- Usage Examples: Search codebase for `<Icon name=`

---

**Last Updated:** November 21, 2025
**Next Review:** After full migration complete
