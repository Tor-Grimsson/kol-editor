# 5.1.0 — Chess Analytics Program (Chapter One)

**Status**: Drafted 2025-11-04  
**Owner**: kolkrabbi.io styleguide crew  
**Scope**: Kickoff narrative, architecture outline, and initial build targets for the chess analytics epic.

---

## 1. Narrative Spark

- 106 consecutive months of personal chess games captured as CSV exports.
- Vector board assets, bespoke piece sets, and dashboard fragments ready for refinement.
- Goal: transform the archive into a living program that showcases analysis, storytelling, and design-system mastery.

Chapter One establishes the garage workspace inside the styleguide so experiments ship fast without touching production surfaces.

---

## 2. Styleguide Placement

- **Route**: `/styleguide/chess` (Overview) with child routes for Apparatus, Dashboards, Tables, Documentation.
- **Purpose**: Provide a sanctioned playground where apparatus prototypes, data views, and visual vocabulary mature before promotion to `apps/web`.
- **Navigation**: Dedicated top-level sidebar entry to honor the project’s epic scale and keep discovery frictionless.

---

## 3. Data Foundations

- **Source Format**: Monthly CSV snapshots containing opponent info, result, time control, opening, and annotations.
- **Workspace Package**: `packages/chess-data` (planned) will ingest CSV, normalize to typed JSON modules, and expose helpers like `getMonthlyStats()`.
- **Testing**: Snapshot tests verifying aggregation correctness per month and per opening family.
- **Storage**: Raw CSV archived under `packages/chess-data/sources/`; derived data emitted into `packages/chess-data/generated/`.

---

## 4. UI System

| Layer | Responsibility | Notes |
|-------|----------------|-------|
| `packages/ui/src/chess/atoms` | ChessPiece, ResultBadge, MiniBoard glyphs | Token-driven, theme aware |
| `packages/ui/src/chess/molecules` | OpeningTrends, StreakCard | Compose atoms with layout utilities |
| `packages/ui/src/chess/organisms` | ChessDashboard, ApparatusPanels | Aggregate molecules for pages |
| `apps/web/src/routes/styleguide/chess` | Showcase and iteration endpoints | Each route documents intent and current experiments |

Styling follows existing semantic tokens (`var(--kol-*)`) and typographic utilities. No hardcoded colors; board themes derive from context tokens.

---

## 5. Apparatus Blueprint

1. **Board Renderer**  
   - Canvas/SVG hybrid with move highlighting, variation playback, and theme toggles.
   - Accepts FEN/PGN inputs from the data layer.

2. **Dashboard Panels**  
   - Monthly cadence sparkline, cumulative performance meter, and opening distribution treemap.
   - Built with shared chart utilities (to be extracted if needed).

3. **Tables**  
   - Sortable match ledger, opening repertoire table, opponent dossier snapshots.
   - Reuses data table patterns validated in `docs/documentation/6.1.0-research-data-tables.md`.

---

## 6. Collaboration Rituals

- **Checkpoint Protocol**: Adhere to `docs/llm-context/SESSION-LOGS/` cadence—log milestones, note open questions, link relevant apparatus snapshots.
- **Design Reviews**: `/styleguide/chess/demo` (planned) hosts side-by-side prototypes for synchronous review.
- **Promotion Criteria**: Components graduate to `apps/web` once design, accessibility, and data fidelity reach production confidence.

---

## 7. Immediate Next Steps

1. Scaffold `packages/chess-data` with CSV ingestion script plus type definitions.
2. Draft `ChessBoard` atom and stub data cards inside `/styleguide/chess/apparatus` and `/styleguide/chess/dashboards`.
3. Wire session log template for the chess epic to keep narrative continuity.

When Chapter One tactics stabilize, update this document with implementation progress and attach links to apparatus demos and data explorers.

---

**Appendix**  
Related references:  
- `docs/documentation/5.3.2-components-apparatus-overview.md` (apparatus conventions)  
- `docs/documentation/6.1.0-research-data-tables.md` (table behavior research)  
- `docs/llm-context/AGENT-CONTEXT.md` (active focus updates)
