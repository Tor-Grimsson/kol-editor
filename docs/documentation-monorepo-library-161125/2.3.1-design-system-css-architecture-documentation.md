# 2.3.1 Design System: CSS Architecture Documentation

> **Version:** 1.0.0
> **Date:** 2025-11-05
> **Status:** Active
> **Content Type:** documentation
> **Category:** design-system

---

## Overview

This document describes the CSS architecture for documentation pages in the Kolkrabbi design system. It covers the specialized stylesheets that power the documentation experience at `/styleguide/design-system/documentation`, including layout utilities, typography system, and component styling.

## File Structure

The documentation CSS architecture is centralized in `/packages/ui/css/`:

```
packages/ui/css/
├── docs.css         # Documentation-specific styles
├── blog.css         # Blog/content styles
├── components.css   # Component library styles
├── prose.css        # Rich text styles
├── utilities.css    # Utility classes
└── theme.css        # Theme tokens
```

## Documentation CSS Architecture

### File: `packages/ui/css/docs.css`

**Purpose:** Specialized styles for documentation pages that intentionally diverge from base `kol-prose` wrappers.

**Key Design Principles:**
- **Narrow Columns**: Accommodates dense technical content
- **Dense Lists**: Optimized for code and technical documentation
- **Meta Strips**: Support for metadata and navigation elements
- **Sticky Navigation**: TOC and sidebar positioning

### Layout System

#### Grid Layout
```css
@media (min-width: 1024px) {
  .docs-layout {
    grid-template-columns: 200px 720px 224px;  /* Nav | Content | TOC */
    gap: 48px;
  }
}
```

**Column Breakdown:**
- **200px**: Left navigation sidebar
- **720px**: Main content area (optimal reading width)
- **224px**: Table of contents column

#### Responsive Behavior
- **Mobile**: Stacked layout with 32px horizontal padding
- **Desktop**: 3-column grid with 64px horizontal padding
- **Breakpoint**: 1024px (lg)

### Typography System

Documentation uses a specialized typography scale optimized for reading:

#### Headings
| Element | Font Family | Size | Line Height |
|---------|------------|------|-------------|
| `.docs-title` (H1) | Right Grotesk Tight | `clamp(32px, 5vw, 48px)` | 1.1 |
| `.docs-article h2` | Right Grotesk Narrow | `clamp(28px, 4vw, 40px)` | 1.2 |
| `.docs-article h3` | Right Grotesk Narrow | `clamp(20px, 3vw, 32px)` | 1.25 |
| `.docs-article h4` | Right Grotesk Narrow | 20px | 1.3 |

#### Body Text
```css
.docs-article {
  font-family: var(--kol-font-family-body);
  font-size: clamp(16px, 2vw, 18px);
  line-height: 1.75;
}
```

**Design Rationale:**
- Body text starts at 16px (comfortable reading)
- Uses clamp() for responsive scaling
- 1.75 line-height for optimal readability

#### Paragraphs
```css
.docs-article p {
  margin-block-end: 1.5rem;  /* 24px spacing */
}
```

Spacing is generous to create a calm, spacious reading experience.

### Spacing System

#### Vertical Rhythm
- **Section Gap**: 48px (`.docs-column-main`)
- **Paragraph Spacing**: 1.5rem (24px)
- **Heading Margins**: Varies by level (2rem to 0.5rem)
- **Code Block Margin**: 2rem (32px)

#### List Styling
```css
.docs-article ul,
.docs-article ol {
  line-height: 1.6;  /* Increased from 1.38 for better scanability */
  margin-block: 1.25rem;
}
```

### Component Styling

#### Code Blocks
```css
.docs-codeblock {
  padding: 1.5rem 2rem;
  font-size: 14px;
  line-height: 1.6;
}
```

**Features:**
- Generous padding for readability
- Monospace font family
- 14px font size (up from 13px)
- Horizontal scroll for long lines

#### Navigation Elements

**Breadcrumbs:**
```css
.docs-breadcrumb {
  font-family: var(--kol-font-family-mono);
  font-size: 12px;
  letter-spacing: 0.2em;
  text-transform: uppercase;
}
```

**Folder Bar:**
```css
.docs-folderbar {
  font-family: var(--kol-font-family-mono);
  font-size: 12px;
  letter-spacing: 0.24em;
  text-transform: uppercase;
}
```

#### Meta Information
```css
.docs-meta {
  font-family: var(--kol-font-family-mono);
  font-size: 11px;
  letter-spacing: 0.18em;
  text-transform: uppercase;
}
```

All meta elements use monospace font with tracking for technical feel.

### Color System

Documentation uses the standard color-mix system:

- **Headings**: 88% opacity (strong contrast)
- **Body Text**: 64% opacity (comfortable reading)
- **Meta Text**: 48-64% opacity (subtle hierarchy)
- **Code**: 88% opacity (high readability)

```css
color: color-mix(in srgb, var(--kol-surface-on-primary) 88%, transparent);
```

### Accessibility Considerations

#### Font Size
- Minimum body text: 16px
- Uses clamp() for responsive scaling
- Respects user zoom preferences

#### Contrast
- Headings: 88% opacity (AAA compliant)
- Body text: 64% opacity (AA compliant)
- Meta text: 48-64% opacity (informational only)

#### Line Height
- Generous line heights (1.6-1.75) for dyslexia-friendly reading
- Increased line-height for code (1.6)

### Integration Points

#### React Components
- `Documentations.jsx` - Documentation hub
- `DocumentationReader.jsx` - Individual doc reader
- `DocsLayout.jsx` - Layout wrapper

#### Markdown Parser
Styles are matched to parser output:
- `.docs-article h2` → H2 headings
- `.docs-article p` → Paragraphs
- `.docs-codeblock` → Code blocks
- `.docs-list` → Lists

### Related Documentation

- [2.2.0 Design System: Typography](./2.2.0-design-system-typography.md) - Typography scale and guidelines
- [2.4.0 Design System: Prose & Rich Text](./2.4.0-design-system-prose.md) - Rich text rendering
- [2.3.2 CSS Architecture: Improvements](./2.3.2-design-system-css-architecture-improvements.md) - Implementation history

---

**Last Updated:** 2025-11-05
**Maintained by:** Design System Team
**Status:** Active
