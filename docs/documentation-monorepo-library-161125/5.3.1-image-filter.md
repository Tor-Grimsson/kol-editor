# 5.3.1 Workshop: PixiJS Image Filter

**Status:** Active  
**Route:** `/workshop/apparatus/image-filter`  
**Stack:** PixiJS 8, React

---

## Overview

The Image Filter Lab is an interactive playground for experimenting with PixiJS filters. It lets designers upload textures (or reuse the default mirrors artwork) and tweak color, contrast, warmth, and grain in real time. The effect runs entirely on the client, showcasing how Pixiâ€™s color matrix + noise filters can power live art direction prototypes.

---

## UI Structure

| Section | Description |
|---------|-------------|
| Pixi Canvas | Full-bleed canvas that resizes with the viewport. A sprite renders the source image and loads two filters: `ColorMatrixFilter` for adjustments and `NoiseFilter` for texture. |
| Preset Selector | Uses `<Dropdown>` for picking from baseline, Noir Film, Sunset Glow, and Print Texture. Switching presets updates slider values instantly. |
| Upload Control | Drag/drop style dashed panel. Accepts any image, stores it via `URL.createObjectURL`, and feeds it to Pixi as the base sprite. |
| Sliders | Five controls (brightness, contrast, saturation, warmth, noise) implemented with native range inputs styled via workshop conventions. Values are clamped before passing to the filter uniforms. |

---

## Implementation Notes

- Component: `apps/web/src/components/workshop/effects/PixiImageFilterCanvas.jsx`
- Route: `apps/web/src/routes/workshop/ApparatusImageFilter.jsx`
- Navigation: registered under the Apparat section.
- Layout conventions follow `5.0.1 Workshop Settings & Layout` (WorkshopLayout padding, sidebar entry, DesPage usage).
- Pixi is dynamically imported to keep the marketing bundle lean.
- Resize handling uses `ResizeObserver` to keep the sprite scaled and centered.
- Warmth adjustments tint toward peach (warm) or cool blue (cold) using `ColorMatrixFilter.tint`.
- Noise slider caps at `0.4` to avoid visual overload.
- Uploaded textures are revoked on cleanup (`URL.revokeObjectURL`) to avoid leaks.

---

## Future Enhancements

1. Add displacement / blur controls fed by procedural noise sprites.
2. Allow exporting presets as JSON for quick reuse in other Pixi scenes.
3. Introduce blend modes (screen/multiply) layered via additional sprites.
