# 4.7.2 Design System: Work Pages Template

**Version:** 1.0
**Date:** 2025-11-04
**Status:** Active
**Content Type:** implementation
**Category:** design-system

---

# Work Pages Template

**Purpose:** Documentation of the portfolio/work showcase page template for displaying projects and case studies.

> The work pages serve as a portfolio gallery, showcasing completed projects with filtering capabilities, search functionality, and responsive grid layouts. This template demonstrates technical capabilities, design thinking, and problem-solving approach to potential clients and collaborators.

## Overview

The work pages follow a **catalog browsing pattern** optimized for discovery and exploration:

```
Browse → Filter → View → Detail
```

**Page URL:** `/work`
**Template Location:** `apps/web/src/routes/work/+page.tsx`
**Content Managed:** Yes (Sanity CMS)
**Pagination:** Yes (for large datasets)

## Page Structure

```tsx
// Work page component structure
<BaseLayout>
  <SkipLink href="#main-content" />

  <main id="main-content" className="work-page">
    {/* Page header */}
    <PageHeader
      title="Our Work"
      description="Selected projects showcasing our design and development expertise"
      breadcrumbs={[{ label: 'Work', href: '/work' }]}
    />

    {/* Filter and search */}
    <FilterBar>
      <SearchInput placeholder="Search projects..." />
      <CategoryFilter categories={categories} />
      <SortSelect options={sortOptions} />
    </FilterBar>

    {/* Project grid */}
    <ProjectGrid projects={paginatedProjects} />

    {/* Pagination */}
    <Pagination
      currentPage={currentPage}
      totalPages={totalPages}
      onPageChange={handlePageChange}
    />
  </main>

  <SkipLink href="#main-content" />
</BaseLayout>
```

## Content Sections

### 1. Page Header

**Organism:** PageHeader (3.3.x)
**Priority:** Critical
**Content:** Title, description, breadcrumbs

#### Content Structure

```tsx
interface PageHeaderContent {
  title: string         // "Our Work"
  description?: string  // "Selected projects showcasing..."
  breadcrumbs?: {
    label: string
    href: string
  }[]
  actions?: {
    label: string
    href: string
    variant: 'primary' | 'secondary' | 'ghost'
  }[]
}
```

#### Header Variants

**Standard:**
- Title + description only
- Used for main work page

**With Actions:**
- Title + description + CTA button
- Used for filtered/single category views

**Minimal:**
- Title only
- Used for search results

### 2. Filter Bar

**Organism:** FilterBar (3.3.x)
**Priority:** High
**Content:** Search, category filters, sorting

#### Filter Components

**Search Input:**
```tsx
interface SearchInputProps {
  value: string
  onChange: (value: string) => void
  placeholder: string
  debounceMs?: number
}

function SearchInput({ value, onChange, placeholder }) {
  const debouncedOnChange = useMemo(
    () => debounce(onChange, 300),
    [onChange]
  )

  return (
    <div className="search-input">
      <SearchIcon />
      <input
        type="search"
        value={value}
        onChange={(e) => debouncedOnChange(e.target.value)}
        placeholder={placeholder}
        aria-label="Search projects"
      />
      {value && (
        <button
          onClick={() => onChange('')}
          aria-label="Clear search"
        >
          <XIcon />
        </button>
      )}
    </div>
  )
}
```

**Category Filter:**
```tsx
interface Category {
  id: string
  name: string
  slug: string
  count: number  // Number of projects in category
}

interface CategoryFilterProps {
  categories: Category[]
  selectedCategory?: string
  onCategoryChange: (categoryId: string | undefined) => void
}

function CategoryFilter({ categories, selectedCategory, onCategoryChange }) {
  return (
    <div className="category-filter" role="tablist" aria-label="Filter by category">
      <button
        role="tab"
        aria-selected={!selectedCategory}
        onClick={() => onCategoryChange(undefined)}
        className={!selectedCategory ? 'active' : ''}
      >
        All ({categories.reduce((sum, cat) => sum + cat.count, 0)})
      </button>
      {categories.map((category) => (
        <button
          key={category.id}
          role="tab"
          aria-selected={selectedCategory === category.id}
          onClick={() => onCategoryChange(category.id)}
          className={selectedCategory === category.id ? 'active' : ''}
        >
          {category.name} ({category.count})
        </button>
      ))}
    </div>
  )
}
```

**Sort Select:**
```tsx
interface SortOption {
  id: string
  label: string
  value: string
  direction: 'asc' | 'desc'
}

const SORT_OPTIONS: SortOption[] = [
  { id: 'newest', label: 'Newest First', value: '_createdAt', direction: 'desc' },
  { id: 'oldest', label: 'Oldest First', value: '_createdAt', direction: 'asc' },
  { id: 'title-asc', label: 'Title A-Z', value: 'title', direction: 'asc' },
  { id: 'title-desc', label: 'Title Z-A', value: 'title', direction: 'desc' }
]

interface SortSelectProps {
  value: string
  onChange: (value: string) => void
  options: SortOption[]
}
```

### 3. Project Grid

**Organism:** ProjectGrid (3.3.x)
**Priority:** Critical
**Content:** Paginated list of project cards

#### Grid Configuration

```tsx
interface Project {
  id: string
  title: string
  slug: string
  excerpt: string
  thumbnail: {
    src: string
    alt: string
    width: number
    height: number
  }
  category: {
    name: string
    slug: string
  }
  tags: string[]
  publishDate: string
  featured: boolean
  stats?: {
    views?: number
    likes?: number
  }
}

interface ProjectGridProps {
  projects: Project[]
  layout: 'grid' | 'masonry' | 'list'
  columns: {
    mobile: 1 | 2
    tablet: 2 | 3
    desktop: 3 | 4
  }
  loading?: 'lazy' | 'eager'
}
```

#### Grid Layouts

**Standard Grid:**
```tsx
<div className="project-grid grid-layout">
  {projects.map((project) => (
    <ProjectCard key={project.id} project={project} />
  ))}
</div>

// CSS
.project-grid {
  display: grid;
  gap: var(--kol-spacing-lg);

  &.grid-layout {
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }

    @media (min-width: 769px) and (max-width: 1024px) {
      grid-template-columns: repeat(2, 1fr);
    }

    @media (min-width: 1025px) {
      grid-template-columns: repeat(3, 1fr);
    }
  }
}
```

**Masonry Layout:**
```tsx
<div className="project-grid masonry-layout">
  {projects.map((project) => (
    <ProjectCard
      key={project.id}
      project={project}
      style={{ height: calculateMasonryHeight(project.thumbnail) }}
    />
  ))}
</div>

// CSS
.project-grid.masonry-layout {
  column-count: 3;
  column-gap: var(--kol-spacing-lg);

  @media (max-width: 768px) {
    column-count: 1;
  }

  @media (min-width: 769px) and (max-width: 1024px) {
    column-count: 2;
  }

  .project-card {
    break-inside: avoid;
    margin-bottom: var(--kol-spacing-lg);
  }
}
```

**List Layout:**
```tsx
<div className="project-grid list-layout">
  {projects.map((project) => (
    <ProjectCard key={project.id} project={project} layout="horizontal" />
  ))}
</div>
```

#### Project Card

```tsx
interface ProjectCardProps {
  project: Project
  layout?: 'vertical' | 'horizontal'
  showStats?: boolean
  showExcerpt?: boolean
}

function ProjectCard({
  project,
  layout = 'vertical',
  showStats = true,
  showExcerpt = true
}) {
  return (
    <article className={cn('project-card', `layout-${layout}`)}>
      <Link href={`/work/${project.slug}`} className="project-link">
        {/* Thumbnail */}
        <div className="project-thumbnail">
          <Image
            src={project.thumbnail.src}
            alt={project.thumbnail.alt}
            width={project.thumbnail.width}
            height={project.thumbnail.height}
            loading="lazy"
            sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"
          />
          {project.featured && (
            <Badge variant="primary" className="featured-badge">
              Featured
            </Badge>
          )}
        </div>

        {/* Content */}
        <div className="project-content">
          <div className="project-meta">
            <span className="project-category">{project.category.name}</span>
            <time dateTime={project.publishDate} className="project-date">
              {formatDate(project.publishDate)}
            </time>
          </div>

          <h3 className="project-title">{project.title}</h3>

          {showExcerpt && (
            <p className="project-excerpt">{project.excerpt}</p>
          )}

          {project.tags.length > 0 && (
            <div className="project-tags">
              {project.tags.slice(0, 3).map((tag) => (
                <Tag key={tag}>{tag}</Tag>
              ))}
              {project.tags.length > 3 && (
                <Tag>+{project.tags.length - 3}</Tag>
              )}
            </div>
          )}

          {showStats && (
            <div className="project-stats">
              {project.stats?.views && (
                <span className="stat">
                  <ViewsIcon />
                  {formatNumber(project.stats.views)}
                </span>
              )}
              {project.stats?.likes && (
                <span className="stat">
                  <LikesIcon />
                  {formatNumber(project.stats.likes)}
                </span>
              )}
            </div>
          )}
        </div>
      </Link>
    </article>
  )
}
```

### 4. Pagination

**Organism:** Pagination (3.3.x)
**Priority:** Medium
**Content:** Page navigation controls

#### Pagination Types

**Standard Pagination:**
```tsx
<Pagination
  currentPage={currentPage}
  totalPages={totalPages}
  onPageChange={handlePageChange}
  showFirstLast={true}
  showPrevNext={true}
  maxVisible={5}
/>
```

**Load More Button:**
```tsx
<button
  onClick={loadMore}
  disabled={loading || !hasMore}
  className="load-more-button"
>
  {loading ? 'Loading...' : hasMore ? 'Load More Projects' : 'No More Projects'}
</button>
```

**Infinite Scroll:**
```tsx
<div ref={sentinelRef} className="infinite-scroll-sentinel">
  {loading && <LoadingSpinner />}
</div>

useInfiniteScroll({
  sentinelRef,
  onLoadMore: fetchNextPage,
  hasMore
})
```

## Content Management

### Sanity Schema

```tsx
// sanity/schemas/project.ts
export default {
  name: 'project',
  title: 'Project',
  type: 'document',
  fields: [
    {
      name: 'title',
      title: 'Title',
      type: 'string',
      validation: Rule => Rule.required()
    },
    {
      name: 'slug',
      title: 'Slug',
      type: 'slug',
      options: {
        source: 'title',
        maxLength: 96,
        slugify: input => input
          .toLowerCase()
          .replace(/\s+/g, '-')
          .slice(0, 96)
      },
      validation: Rule => Rule.required()
    },
    {
      name: 'excerpt',
      title: 'Excerpt',
      type: 'text',
      rows: 3,
      validation: Rule => Rule.max(200)
    },
    {
      name: 'category',
      title: 'Category',
      type: 'reference',
      to: [{ type: 'category' }],
      validation: Rule => Rule.required()
    },
    {
      name: 'thumbnail',
      title: 'Thumbnail',
      type: 'image',
      options: {
        hotspot: true,
        crop: true
      },
      fields: [
        {
          name: 'alt',
          title: 'Alt Text',
          type: 'string',
          validation: Rule => Rule.required()
        }
      ],
      validation: Rule => Rule.required()
    },
    {
      name: 'tags',
      title: 'Tags',
      type: 'array',
      of: [{ type: 'string' }],
      options: {
        layout: 'tags'
      }
    },
    {
      name: 'featured',
      title: 'Featured',
      type: 'boolean',
      initialValue: false
    },
    {
      name: 'publishDate',
      title: 'Publish Date',
      type: 'datetime',
      validation: Rule => Rule.required()
    },
    {
      name: 'stats',
      title: 'Statistics',
      type: 'object',
      fields: [
        { name: 'views', type: 'number' },
        { name: 'likes', type: 'number' }
      ]
    }
  ],
  preview: {
    select: {
      title: 'title',
      subtitle: 'category.name',
      media: 'thumbnail'
    }
  }
}

// sanity/schemas/category.ts
export default {
  name: 'category',
  title: 'Category',
  type: 'document',
  fields: [
    {
      name: 'name',
      title: 'Name',
      type: 'string',
      validation: Rule => Rule.required()
    },
    {
      name: 'slug',
      title: 'Slug',
      type: 'slug',
      options: {
        source: 'name'
      },
      validation: Rule => Rule.required()
    },
    {
      name: 'description',
      title: 'Description',
      type: 'text'
    },
    {
      name: 'color',
      title: 'Color',
      type: 'color',
      options: { disableAlpha: true }
    }
  ]
}
```

### GROQ Queries

```tsx
// queries/workPage.ts
const CATEGORIES_QUERY = `*[_type == "category"] | order(name asc) {
  _id,
  name,
  "slug": slug.current,
  description,
  "count": count(*[_type == "project" && references(^._id)])
}`

const PROJECTS_QUERY = `
  *[_type == "project"] | order(publishDate desc) {
    _id,
    title,
    "slug": slug.current,
    excerpt,
    "thumbnail": {
      "src": thumbnail.asset->url,
      "alt": thumbnail.alt,
      "width": thumbnail.asset->metadata.dimensions.width,
      "height": thumbnail.asset->metadata.dimensions.height
    },
    "category": category->{
      name,
      "slug": slug.current
    },
    tags[],
    featured,
    publishDate,
    stats
  }
`

const FILTERED_PROJECTS_QUERY = `
  *[_type == "project"
    && (!defined($category) || category._ref == $category)
    && (!defined($search) || title match $search || excerpt match $search || tags[] match $search)
  ] | order(_createdAt desc) {
    // ... project fields
  }
`

const PAGINATED_PROJECTS_QUERY = `
  *[_type == "project"]
  | order(_createdAt desc)
  [$offset...$limit] {
    // ... project fields
  }
`
```

## Implementation

### Page Component

```tsx
// apps/web/src/routes/work/+page.tsx
import { client } from '@/lib/sanity'
import { useState, useMemo } from 'react'

const CATEGORIES_QUERY = `*[_type == "category"] | order(name asc){...}`
const PROJECTS_QUERY = `*[_type == "project"] | order(_createdAt desc){...}`

const ITEMS_PER_PAGE = 12

export default function WorkPage() {
  const { data: categories } = useQuery('categories', () =>
    client.fetch(CATEGORIES_QUERY)
  )

  const { data: allProjects } = useQuery('projects', () =>
    client.fetch(PROJECTS_QUERY)
  )

  const [searchQuery, setSearchQuery] = useState('')
  const [selectedCategory, setSelectedCategory] = useState<string | undefined>()
  const [sortBy, setSortBy] = useState('newest')
  const [currentPage, setCurrentPage] = useState(1)

  // Filter and sort projects
  const filteredProjects = useMemo(() => {
    let filtered = [...(allProjects || [])]

    // Filter by category
    if (selectedCategory) {
      filtered = filtered.filter(
        (project) => project.category.slug === selectedCategory
      )
    }

    // Filter by search query
    if (searchQuery) {
      const query = searchQuery.toLowerCase()
      filtered = filtered.filter((project) =>
        project.title.toLowerCase().includes(query) ||
        project.excerpt?.toLowerCase().includes(query) ||
        project.tags.some((tag) => tag.toLowerCase().includes(query))
      )
    }

    // Sort projects
    filtered.sort((a, b) => {
      switch (sortBy) {
        case 'oldest':
          return new Date(a.publishDate).getTime() - new Date(b.publishDate).getTime()
        case 'title-asc':
          return a.title.localeCompare(b.title)
        case 'title-desc':
          return b.title.localeCompare(a.title)
        case 'newest':
        default:
          return new Date(b.publishDate).getTime() - new Date(a.publishDate).getTime()
      }
    })

    return filtered
  }, [allProjects, selectedCategory, searchQuery, sortBy])

  // Paginate projects
  const totalPages = Math.ceil(filteredProjects.length / ITEMS_PER_PAGE)
  const paginatedProjects = useMemo(() => {
    const start = (currentPage - 1) * ITEMS_PER_PAGE
    const end = start + ITEMS_PER_PAGE
    return filteredProjects.slice(start, end)
  }, [filteredProjects, currentPage])

  // Reset to page 1 when filters change
  useEffect(() => {
    setCurrentPage(1)
  }, [selectedCategory, searchQuery, sortBy])

  return (
    <BaseLayout>
      <main id="main-content" className="work-page">
        <Container maxWidth="lg">
          {/* Page Header */}
          <PageHeader
            title="Our Work"
            description="Selected projects showcasing our design and development expertise"
          />

          {/* Filter Bar */}
          <FilterBar>
            <SearchInput
              value={searchQuery}
              onChange={setSearchQuery}
              placeholder="Search projects..."
            />

            <CategoryFilter
              categories={categories || []}
              selectedCategory={selectedCategory}
              onCategoryChange={setSelectedCategory}
            />

            <SortSelect
              value={sortBy}
              onChange={setSortBy}
              options={SORT_OPTIONS}
            />
          </FilterBar>

          {/* Results Info */}
          <div className="results-info">
            <p>
              Showing {paginatedProjects.length} of {filteredProjects.length} projects
              {selectedCategory && (
                <span> in {categories?.find(c => c.slug === selectedCategory)?.name}</span>
              )}
              {searchQuery && <span> matching "{searchQuery}"</span>}
            </p>
          </div>

          {/* Project Grid */}
          {paginatedProjects.length > 0 ? (
            <ProjectGrid projects={paginatedProjects} />
          ) : (
            <EmptyState
              title="No projects found"
              description="Try adjusting your filters or search query"
              action={
                <Button onClick={() => {
                  setSearchQuery('')
                  setSelectedCategory(undefined)
                }}>
                  Clear Filters
                </Button>
              }
            />
          )}

          {/* Pagination */}
          {totalPages > 1 && (
            <Pagination
              currentPage={currentPage}
              totalPages={totalPages}
              onPageChange={setCurrentPage}
            />
          )}
        </Container>
      </main>
    </BaseLayout>
  )
}
```

### Custom Hooks

```tsx
// hooks/useWorkFilters.ts
export function useWorkFilters(projects: Project[]) {
  const [filters, setFilters] = useState({
    category: undefined as string | undefined,
    search: '',
    sort: 'newest'
  })

  const [currentPage, setCurrentPage] = useState(1)

  const filteredProjects = useMemo(() => {
    let filtered = [...projects]

    // Filter by category
    if (filters.category) {
      filtered = filtered.filter(
        (project) => project.category.slug === filters.category
      )
    }

    // Filter by search
    if (filters.search) {
      const query = filters.search.toLowerCase()
      filtered = filtered.filter((project) =>
        project.title.toLowerCase().includes(query) ||
        project.excerpt?.toLowerCase().includes(query) ||
        project.tags.some((tag) => tag.toLowerCase().includes(query))
      )
    }

    // Sort
    filtered.sort((a, b) => {
      switch (filters.sort) {
        case 'oldest':
          return new Date(a.publishDate).getTime() - new Date(b.publishDate).getTime()
        case 'title-asc':
          return a.title.localeCompare(b.title)
        case 'title-desc':
          return b.title.localeCompare(a.title)
        case 'newest':
        default:
          return new Date(b.publishDate).getTime() - new Date(a.publishDate).getTime()
      }
    })

    return filtered
  }, [projects, filters])

  const updateFilter = (key: keyof typeof filters, value: any) => {
    setFilters((prev) => ({ ...prev, [key]: value }))
    setCurrentPage(1) // Reset to first page when filters change
  }

  return {
    filters,
    filteredProjects,
    currentPage,
    setCurrentPage,
    updateFilter
  }
}
```

## Styling

```scss
// apps/web/src/routes/work/+page.scss
.work-page {
  padding: var(--kol-spacing-4xl) 0;

  .page-header {
    text-align: center;
    margin-bottom: var(--kol-spacing-4xl);

    .page-title {
      font-size: var(--kol-font-size-4xl);
      font-weight: var(--kol-font-weight-bold);
      margin-bottom: var(--kol-spacing-md);
    }

    .page-description {
      font-size: var(--kol-font-size-lg);
      color: var(--kol-surface-on-primary, 0.8);
      max-width: 60ch;
      margin: 0 auto;
    }
  }

  .filter-bar {
    display: grid;
    grid-template-columns: 1fr auto auto;
    gap: var(--kol-spacing-md);
    margin-bottom: var(--kol-spacing-2xl);
    padding: var(--kol-spacing-lg);
    background: var(--kol-container-primary);
    border-radius: var(--kol-border-radius-lg);

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }

    .search-input {
      position: relative;

      input {
        width: 100%;
        padding: var(--kol-spacing-md) var(--kol-spacing-lg);
        padding-left: calc(var(--kol-spacing-lg) + 24px);
        background: var(--kol-surface-primary);
        border: 1px solid var(--kol-border-default);
        border-radius: var(--kol-border-radius-md);
        color: var(--kol-surface-on-primary);

        &:focus {
          outline: none;
          border-color: var(--kol-border-focus);
          box-shadow: 0 0 0 3px color-mix(in srgb, var(--kol-accent-primary) 20%, transparent);
        }
      }

      svg {
        position: absolute;
        left: var(--kol-spacing-md);
        top: 50%;
        transform: translateY(-50%);
        color: var(--kol-surface-on-primary, 0.6);
      }
    }

    .category-filter {
      display: flex;
      gap: var(--kol-spacing-xs);
      flex-wrap: wrap;

      @media (max-width: 768px) {
        order: 3;
      }

      button {
        padding: var(--kol-spacing-sm) var(--kol-spacing-md);
        background: transparent;
        border: 1px solid var(--kol-border-default);
        border-radius: var(--kol-border-radius-full);
        color: var(--kol-surface-on-primary);
        font-size: var(--kol-font-size-sm);
        cursor: pointer;
        transition: all var(--kol-transition-fast);

        &:hover {
          background: var(--kol-surface-on-primary, 0.1);
        }

        &.active {
          background: var(--kol-accent-primary);
          color: var(--kol-accent-on-primary);
          border-color: var(--kol-accent-primary);
        }
      }
    }

    .sort-select {
      select {
        padding: var(--kol-spacing-md);
        background: var(--kol-surface-primary);
        border: 1px solid var(--kol-border-default);
        border-radius: var(--kol-border-radius-md);
        color: var(--kol-surface-on-primary);

        &:focus {
          outline: none;
          border-color: var(--kol-border-focus);
        }
      }
    }
  }

  .results-info {
    margin-bottom: var(--kol-spacing-xl);

    p {
      font-size: var(--kol-font-size-sm);
      color: var(--kol-surface-on-primary, 0.7);
    }
  }

  .project-grid {
    display: grid;
    gap: var(--kol-spacing-xl);
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }

    @media (min-width: 769px) and (max-width: 1024px) {
      grid-template-columns: repeat(2, 1fr);
    }

    @media (min-width: 1025px) {
      grid-template-columns: repeat(3, 1fr);
    }

    .project-card {
      background: var(--kol-container-primary);
      border-radius: var(--kol-border-radius-lg);
      overflow: hidden;
      transition: transform var(--kol-transition-medium);

      &:hover {
        transform: translateY(-4px);
        box-shadow: var(--kol-shadow-xl);
      }

      .project-link {
        display: block;
        color: inherit;
        text-decoration: none;
      }

      .project-thumbnail {
        position: relative;
        aspect-ratio: 16 / 10;
        overflow: hidden;

        img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .featured-badge {
          position: absolute;
          top: var(--kol-spacing-md);
          right: var(--kol-spacing-md);
        }
      }

      .project-content {
        padding: var(--kol-spacing-lg);

        .project-meta {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: var(--kol-spacing-sm);

          .project-category {
            font-size: var(--kol-font-size-xs);
            font-weight: var(--kol-font-weight-medium);
            color: var(--kol-accent-primary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
          }

          .project-date {
            font-size: var(--kol-font-size-xs);
            color: var(--kol-surface-on-primary, 0.6);
          }
        }

        .project-title {
          font-size: var(--kol-font-size-xl);
          font-weight: var(--kol-font-weight-semibold);
          margin-bottom: var(--kol-spacing-sm);
          line-height: var(--kol-line-height-tight);
        }

        .project-excerpt {
          font-size: var(--kol-font-size-sm);
          color: var(--kol-surface-on-primary, 0.8);
          line-height: var(--kol-line-height-relaxed);
          margin-bottom: var(--kol-spacing-md);
        }

        .project-tags {
          display: flex;
          gap: var(--kol-spacing-xs);
          flex-wrap: wrap;
          margin-bottom: var(--kol-spacing-md);

          .tag {
            padding: var(--kol-spacing-xs) var(--kol-spacing-sm);
            background: var(--kol-surface-on-primary, 0.1);
            border-radius: var(--kol-border-radius-full);
            font-size: var(--kol-font-size-xs);
            color: var(--kol-surface-on-primary, 0.8);
          }
        }

        .project-stats {
          display: flex;
          gap: var(--kol-spacing-md);

          .stat {
            display: flex;
            align-items: center;
            gap: var(--kol-spacing-xs);
            font-size: var(--kol-font-size-xs);
            color: var(--kol-surface-on-primary, 0.6);

            svg {
              width: 16px;
              height: 16px;
            }
          }
        }
      }
    }
  }

  .pagination {
    display: flex;
    justify-content: center;
    gap: var(--kol-spacing-xs);
    margin-top: var(--kol-spacing-4xl);

    button {
      padding: var(--kol-spacing-md);
      min-width: 44px;
      background: var(--kol-container-primary);
      border: 1px solid var(--kol-border-default);
      border-radius: var(--kol-border-radius-md);
      color: var(--kol-surface-on-primary);
      cursor: pointer;
      transition: all var(--kol-transition-fast);

      &:hover:not(:disabled) {
        background: var(--kol-surface-on-primary, 0.1);
      }

      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      &.active {
        background: var(--kol-accent-primary);
        color: var(--kol-accent-on-primary);
        border-color: var(--kol-accent-primary);
      }
    }
  }

  .empty-state {
    text-align: center;
    padding: var(--kol-spacing-4xl) var(--kol-spacing-lg);

    .empty-state-title {
      font-size: var(--kol-font-size-2xl);
      font-weight: var(--kol-font-weight-semibold);
      margin-bottom: var(--kol-spacing-md);
    }

    .empty-state-description {
      font-size: var(--kol-font-size-lg);
      color: var(--kol-surface-on-primary, 0.8);
      margin-bottom: var(--kol-spacing-xl);
    }
  }
}
```

## Performance Optimization

### Image Optimization

```tsx
// Next.js Image with responsive sizes
<Image
  src={project.thumbnail.src}
  alt={project.thumbnail.alt}
  width={project.thumbnail.width}
  height={project.thumbnail.height}
  sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"
  priority={index < 6}  // Prioritize first 2 rows
/>
```

### Lazy Loading

```tsx
// Intersection Observer for lazy loading
const useLazyLoading = () => {
  const [loadedImages, setLoadedImages] = useState<Set<string>>(new Set())

  const imageRef = useRef<HTMLImageElement>(null)

  useEffect(() => {
    const image = imageRef.current
    if (!image) return

    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setLoadedImages((prev) => new Set(prev).add(image.src))
          observer.unobserve(image)
        }
      },
      { rootMargin: '50px' }
    )

    observer.observe(image)

    return () => observer.disconnect()
  }, [])

  return { loadedImages, imageRef }
}
```

### Pagination Strategy

**For < 50 projects:**
- Client-side filtering and pagination
- No API calls needed

**For 50-200 projects:**
- Server-side filtering
- Client-side pagination

**For > 200 projects:**
- Infinite scroll or load more
- Streaming pagination
- Virtualization for large lists

## SEO Optimization

### Structured Data

```tsx
// JSON-LD for projects
const projectsSchema = {
  '@context': 'https://schema.org',
  '@type': 'ItemList',
  itemListElement: projects.map((project, index) => ({
    '@type': 'ListItem',
    position: index + 1,
    url: `https://example.com/work/${project.slug}`,
    name: project.title,
    image: project.thumbnail.src
  }))
}
```

### Meta Tags

```tsx
export const metadata = {
  title: 'Our Work - Portfolio Projects | Kolkrabbi',
  description: 'Browse our portfolio of design and development projects. View case studies, client work, and technical implementations.',
  openGraph: {
    title: 'Our Work - Portfolio Projects',
    description: 'Browse our portfolio of design and development projects',
    type: 'website'
  }
}
```

## Analytics

### Track Interactions

```tsx
// Track filter usage
function trackFilterChange(filterType: string, value: string) {
  gtag('event', 'filter_change', {
    event_category: 'engagement',
    event_label: `${filterType}:${value}`
  })
}

// Track project clicks
function trackProjectClick(projectSlug: string, position: number) {
  gtag('event', 'project_click', {
    event_category: 'engagement',
    event_label: projectSlug,
    custom_parameter_position: position
  })
}

// Track search queries
function trackSearch(query: string) {
  gtag('event', 'search', {
    search_term: query
  })
}
```

## Accessibility

### WCAG Compliance

- All interactive elements are keyboard accessible
- Filter bar uses proper ARIA roles (tablist, tab)
- Search input has proper label
- Project cards are announced to screen readers
- Pagination has proper aria-labels

### Keyboard Navigation

```tsx
// Arrow key navigation for category filter
function CategoryFilter() {
  const [activeIndex, setActiveIndex] = useState(0)

  const handleKeyDown = (e: KeyboardEvent) => {
    if (e.key === 'ArrowRight') {
      e.preventDefault()
      setActiveIndex((prev) => (prev + 1) % categories.length)
    } else if (e.key === 'ArrowLeft') {
      e.preventDefault()
      setActiveIndex((prev) => (prev - 1 + categories.length) % categories.length)
    } else if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault()
      onCategoryChange(categories[activeIndex].id)
    }
  }

  return (
    <div
      role="tablist"
      aria-label="Filter by category"
      onKeyDown={handleKeyDown}
    >
      {/* Filter buttons */}
    </div>
  )
}
```

## Best Practices

### Do's

✅ Use clear category names
✅ Implement debounced search
✅ Show loading states
✅ Provide clear empty states
✅ Optimize image loading
✅ Track user interactions
✅ Use semantic HTML
✅ Test with screen readers
✅ Implement responsive design
✅ Provide alternative layouts

### Don'ts

❌ Use too many categories
❌ Show all projects at once (use pagination)
❌ Forget to reset filters
❌ Use placeholder images
❌ Skip alt text for images
❌ Ignore mobile performance
❌ Use generic project titles
❌ Forget to test with real data
❌ Skip error handling
❌ Mix filters inconsistently

## Related Documentation

**Design System:**
- [4.7.0 Design System: Pages](4.7.0-design-system-pages.md) - Page architecture overview
- [4.7.1 Design System: Home Page](4.7.1-design-system-home-template.md) - Home page template
- [3.3.0 Design System: Organisms](3.3.0-design-system-organisms.md) - Project grid organism

**Content:**
- [5.0.0 Design System: Content Strategy](5.0.0-design-system-content-strategy.md) - CMS integration
- [5.1.0 Design System: Sanity CMS](5.1.0-design-system-sanity-cms.md) - Schema patterns

**Research:**
- [6.1.0 Research: Data Tables](6.1.0-research-data-tables.md) - Data display patterns
- [6.2.0 Research: Typography](6.2.0-research-typography.md) - Typography in grid layouts

---

**File Locations:**
- **Template:** `apps/web/src/routes/work/+page.tsx`
- **Styles:** `apps/web/src/routes/work/+page.scss`
- **Sanity Schemas:** `sanity/schemas/project.ts`
- **Queries:** `sanity/queries/workPage.ts`

---

**Last Updated:** 2025-11-04
**Cross-References:** 4.0.0, 4.1.0, 3.3.0, 5.0.0, 5.1.0, 6.1.0, 6.2.0
**Category:** Design System
**Status:** Active
