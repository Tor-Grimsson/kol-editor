# 6.1.0 Research: Data Tables

**Version:** 1.0.0
**Date:** 2025-10-16
**Status:** Active
**Content Type:** research
**Category:** research

---

# Data Table Component Research

**Sources:** UXPin, LogRocket, W3C WAI, WCAG 2.1, CSS-Tricks, MDN
**Purpose:** Inform data table component implementation in kolkrabbi design system

> This chapter documents research findings on data table components to inform implementation decisions in the kolkrabbi design system.

---

## Executive Summary

Data tables must balance functionality, accessibility, and visual clarity while remaining responsive across devices. Modern best practices emphasize flexible layouts, semantic HTML, keyboard accessibility, and content-driven column sizing over fixed pixel widths.

---

## 1. Column Width Best Practices

### General Principles

**Avoid Fixed Pixel Widths**
- Fixed widths cause horizontal scrolling on smaller screens
- Break text scaling for users with low vision (WCAG 2.1 failure)
- Reduce flexibility for content changes
- **Recommendation:** Use percentage-based or content-driven widths

**Use Percentage-Based Widths**
- Allows tables to adjust based on screen width
- Maintains proportions across viewport sizes
- Example: `width: 25%` for four equal columns

**Mixed Approach (Recommended)**
- Fixed widths for predictable short-content columns (status, actions)
- Flexible widths for variable-length text columns
- Max-width constraints on description/usage columns
- Allows optimal balance between consistency and flexibility

**Content-Based Sizing**
- Default `table-layout: auto` lets browser calculate optimal widths
- Best for tables with varying content lengths
- Use `table-layout: fixed` only when you need precise control or equal columns

### Column Type Guidelines

| Column Type | Recommended Width | Notes |
|-------------|------------------|-------|
| Token/Name | 150-200px or 15-20% | Predictable content length |
| Status/Tag | 100-150px or 10-15% | Short, consistent values |
| Metadata | 100-150px or 10-15% | Dates, versions, small data |
| Actions | 80-120px fixed | Icon buttons, controls |
| Description/Usage | `max-width: 24-30rem` | Long text, needs wrapping |
| Code/Values | Flexible or 150-200px | Monospace content |

### Responsive Column Strategy

**Desktop (>768px)**
- Show all columns
- Use horizontal scroll container if needed (`overflow-x: auto`)
- Preserve semantic table structure

**Tablet (481-768px)**
- Hide less critical columns via media queries
- Reduce cell padding (8-12px instead of 16px)
- May require horizontal scroll

**Mobile (<480px)**
- Transform to card-based layout (each row becomes a card)
- Use accordion pattern for expandable rows
- Horizontal scroll as fallback (maintains table structure)

---

## 2. Accessibility Requirements (WCAG 2.1)

### Critical Guidelines

**No Fixed Pixel Widths for Text Containers**
- **WCAG 1.4.10 (Reflow):** Content must reflow at 200% zoom without horizontal scrolling
- Fixed-width cells can cause readability issues when users enlarge text
- Use flexible layouts that accommodate text scaling
- **Impact:** Level AA requirement

**No `overflow: hidden` on Tables**
- Content must remain accessible when zoomed
- Users must be able to reach all content via keyboard navigation
- Use `overflow-x: auto` for horizontal scroll when necessary

**Sufficient Color Contrast**
- **WCAG 1.4.3 (Contrast Minimum):** 4.5:1 for normal text, 3:1 for large text
- Table borders should use semantic tokens, not hardcoded low-contrast colors
- Test all states (default, hover, selected) for contrast compliance

### Required Semantic Elements

**`<caption>` Element**
```html
<caption>Semantic token pairs for surfaces and containers</caption>
<!-- Or with sr-only for visual designs -->
<caption className="sr-only">Color token reference table</caption>
```
- Describes table purpose and content
- Must be first child after `<table>` opening tag
- Can be visually hidden with `.sr-only` but must exist for screen readers

**`scope` Attribute on Headers**
```html
<th scope="col">Token Name</th>
<th scope="row">Primary Surface</th>
```
- Indicates whether header applies to column or row
- Required for screen readers to properly announce relationships
- Use `scope="col"` for column headers, `scope="row"` for row headers

**Proper Semantic Structure**
```html
<table>
  <thead>
    <tr><th scope="col">Header</th></tr>
  </thead>
  <tbody>
    <tr><td>Data</td></tr>
  </tbody>
</table>
```
- Use `<thead>`, `<tbody>`, and optionally `<tfoot>`
- Helps screen readers navigate and understand table structure
- Improves keyboard navigation flow

### Keyboard Navigation Requirements

**Tab Navigation**
- All interactive elements must be keyboard accessible
- Tab order should follow logical reading order (left-to-right, top-to-bottom)
- Sortable headers must be activatable with Enter/Space

**Focus Indicators**
- Visible focus outlines required (WCAG 2.4.7)
- Use `:focus-visible` for keyboard-only indicators
- Minimum 2px outline with sufficient contrast

---

## 3. Visual Hierarchy & Styling

### Border Strategies

**Option 1: Light Row Borders**
- 1px borders between rows
- Subtle color (`border-auto` or `opacity: 0.1`)
- Clean, minimal aesthetic
- Works well for shorter tables

**Option 2: Zebra Striping**
- Alternating row colors (e.g., every other row has subtle background)
- Particularly effective for tables with 10+ rows
- Helps eye track horizontally across wide tables
- Common pattern: `tr:nth-child(even) { background: var(--kol-surface-secondary) }`

**Option 3: Outer Border Only** ✅ **(Current Implementation)**
- Border around entire table container
- No internal row borders
- Modern, clean look
- Best for well-spaced, shorter tables
- **Kolkrabbi choice:** 4px radius with `border-auto`

**Option 4: Column Dividers**
- Vertical borders between columns
- Rarely recommended (creates visual clutter)
- Use only when columns have very distinct data types

### Cell Padding Standards

**Industry Standard:** 12-16px
- **Kolkrabbi implementation:** 12px vertical, 16px horizontal ✅
- Provides comfortable reading space
- Balances density with readability

**Responsive Adjustments:**
- Desktop: 12-16px
- Tablet: 8-12px
- Mobile: 8px (tighter for small screens)

### Border Radius Recommendations

- **Small tables/cards:** 4-8px (modern, friendly)
- **Large enterprise tables:** 0-4px (formal, utilitarian)
- **Kolkrabbi choice:** 4px ✅ - Aligns with modern design aesthetic

---

## 4. Typography in Tables

### Font Size Recommendations

| Element | Size Range | Kolkrabbi | Notes |
|---------|-----------|-----------|-------|
| Headers | 11-14px | 12px ✅ | Uppercase, medium weight |
| Body cells | 13-16px | 12px ⚠️ | Consider 13-14px for readability |
| Metadata | 10-12px | 10px ✅ | Reduced opacity acceptable |
| Code/tokens | 12-14px | 12px ✅ | Monospace essential |

**Readability Note:** 12px body text is acceptable for dense technical data but sits at the lower end of readability standards. Consider 13-14px for improved accessibility.

### White Space & Line Height

**Headers:**
- Line height: 1.2-1.3
- Letter spacing: 0.05-0.1em for uppercase
- `white-space: nowrap` to prevent header wrapping

**Body Cells:**
- Line height: 1.3-1.5
- `white-space: nowrap` for short data (names, tokens, values)
- `white-space: normal` for descriptions/usage columns

**Metadata:**
- Line height: 1.3-1.4
- Shorter for compact display

### Font Family

**Monospace for Technical Data** ✅
- Essential for code, tokens, hex values, measurements
- Ensures character alignment
- **Kolkrabbi:** RightGroteskMono across all table text ✅
- Provides consistency and technical aesthetic

---

## Related Documentation

**Design System Implementation:**
- [2.0.0 Design System: Overview](2.0.0-design-system-overview.md) - Visual language and philosophy
- [2.2.0 Design System: Typography](2.2.0-design-system-typography.md) - Typography scale reference

**Research Foundation:**
- [6.0.0 Research: Overview](6.0.0-research-overview.md) - All research documents
- [6.2.0 Research: Typography](6.2.0-research-typography.md) - Typography scale and harmonic philosophy

**Legacy References:**
- [9.1-data-table-research.md](../../system/9.1-data-table-research.md) - Original research (legacy location)
- [6.1-data-table-research.md](../../system/6.1-data-table-research.md) - Duplicate (legacy)
- [4.0 CSS Architecture](../../system/4.0-css-architecture.md) - CSS layer structure
- [4.1 CSS Components](../../system/4.1-css-components.md) - Component classes

**Historical Research:**
- [DESIGN-AUDIT.md](../../archive/research/DESIGN-AUDIT.md) - 2024-10-04 foundational audit

---

## Version History

- v1.0 (2025-10-16): Initial research documentation for data table components
- v1.0.0 (2025-11-03): Migrated to system-evolution with M.m.p numbering and cross-references

---

## Sources & References

1. **UXPin - Table UX Best Practices** (2024)
   - https://www.uxpin.com/studio/blog/table-ux/

2. **LogRocket - Data Table Design Best Practices** (2024)
   - https://blog.logrocket.com/ux-design/data-table-design-best-practices/

3. **W3C WAI - Tables Tutorial** (WCAG 2.1)
   - https://www.w3.org/WAI/tutorials/tables/

4. **CSS-Tricks - Responsive Data Tables** (2024)
   - https://css-tricks.com/responsive-data-tables/

5. **MDN Web Docs - table-layout** (CSS Reference)
   - https://developer.mozilla.org/en-US/docs/Web/CSS/table-layout/

6. **Material Design 3** - Component guidelines

7. **Carbon Design System** - Data table patterns

8. **Ant Design** - Table component specifications

---

**Last Updated:** 2025-11-03
**Cross-References:** 2.0.0, 2.2.0, 6.0.0, 6.2.0
**Category:** Research
**Status:** Active
