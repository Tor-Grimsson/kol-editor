# 1.5.1 Navbar & Footer

> Site-level navigation components for the public-facing website.

## Overview

The navbar and footer provide global navigation for the public site. They're contextual - hidden when viewing the styleguide (`/styleguide/*`) but visible everywhere else.

## Navbar

**Location**: `apps/web/src/components/layout/Navbar.jsx`

### Structure

```javascript
const NAV_ITEMS = [
  { to: '/work', label: 'Work' },
  { to: '/foundry', label: 'Foundry' },
  { to: '/stack', label: 'Stack' },
  {
    label: 'Collections',
    children: [
      { to: '/collections/illustrations', label: 'Illustrations' },
      { to: '/collections/logomarks', label: 'Logomarks' }
    ]
  },
  { to: '/demo', label: 'Demo' },
  { to: '/styleguide', label: 'Styleguide' },
  { to: '/#story', label: 'Studio' }
]
```

### Features

#### Desktop Navigation
- **Horizontal layout** with dropdown support
- **Hover effects** on links
- **Dropdown arrow** rotation on expand
- **Click outside** to close dropdowns
- **Active state** via NavLink styling

#### Mobile Navigation
- **Hamburger icon** transforms on toggle
- **Full-screen overlay** with blur backdrop
- **Large typography** for touch-friendly navigation
- **Auto-close** on navigation

#### Auto-Hide on Scroll
```javascript
useEffect(() => {
  const handleScroll = () => {
    const currentScrollY = window.scrollY
    const viewportMiddle = window.innerHeight / 2

    if (currentScrollY < viewportMiddle) {
      setIsVisible(true)
    } else if (currentScrollY > lastScrollY && currentScrollY > viewportMiddle) {
      setIsVisible(false)
    } else if (currentScrollY < lastScrollY) {
      setIsVisible(true)
    }

    setLastScrollY(currentScrollY)
  }
}, [lastScrollY])
```

**Logic**:
- Visible when scrolled to top half of viewport
- Hides when scrolling down past middle
- Shows when scrolling up

#### Theme Integration
- Uses `useTheme()` from `@kol/ui`
- Theme toggle button in navbar
- Respects light/dark mode preferences

### Styling

```javascript
<header
  className="fixed top-0 left-0 right-0 z-50 transition-transform duration-300"
  style={{
    backgroundColor: 'var(--kol-surface-primary)',
    color: 'var(--kol-surface-on-primary)'
  }}
>
```

- **Fixed positioning** - stays at top
- **Z-index 50** - above content, below overlays
- **Transition** - smooth show/hide
- **Context-aware colors** - uses design tokens

## Footer

**Location**: `apps/web/src/components/layout/Footer.jsx`

### Structure

```javascript
<footer className="bg-surface-tertiary pt-12 px-8 pb-8">
  <div className="flex flex-col md:flex-row">
    <Link to="/">
      <Wordmark />
    </Link>

    <div className="flex items-start gap-12">
      <div>
        <p>Menu</p>
        <div className="flex flex-col">
          <Link to="/">Home</Link>
          <Link to="/work">Work</Link>
          <Link to="/styleguide">Styleguide</Link>
          <Link to="/foundry">Foundry</Link>
          <Link to="/#story">Studio</Link>
        </div>
      </div>

      <div>
        <p>Follow</p>
        <div className="flex flex-col">
          <a href="https://instagram.com/kolkrabbi">Instagram</a>
          <a href="https://dribbble.com">Dribbble</a>
          <a href="https://behance.net">Behance</a>
          <a href="https://twitter.com">Twitter</a>
        </div>
      </div>
    </div>
  </div>

  <div className="flex justify-between">
    <p>© 2025 Kolkrabbi</p>
    <button onClick={scrollToTop}>↑ Back to top</button>
  </div>
</footer>
```

### Features

#### Layout
- **Two-column** responsive design
- **Wordmark** branding on left
- **Navigation sections** (Menu, Follow) on right
- **Copyright** and back-to-top on bottom

#### Back to Top Button
```javascript
const scrollToTop = () => {
  window.scrollTo({ top: 0, behavior: 'smooth' })
}
```

- Smooth scroll animation
- Hover effect with icon animation
- Context-aware styling

#### Social Links
- External links (Instagram, Dribbble, Behance, Twitter)
- Hover opacity effects
- Large typography

### Styling

```javascript
className="bg-surface-tertiary pt-12 px-8 pb-8 md:pt-16 md:px-12 md:pb-12 min-h-[500px] flex flex-col justify-between"
```

- **Tertiary surface** - distinct from page background
- **Responsive padding** - larger on desktop
- **Min-height** - consistent footer size
- **Flexbox layout** - structured sections

## Context-Aware Display

### SiteLayout Integration

**Location**: `apps/web/src/components/layout/SiteLayout.jsx`

```javascript
export default function SiteLayout() {
  const location = useLocation()
  const hideChrome = location.pathname.startsWith('/styleguide')

  return (
    <div className="min-h-dvh bg-surface-primary">
      {!hideChrome && <Navbar />}
      <Outlet />
      {!hideChrome && <Footer />}
      <CursorOverlay />
    </div>
  )
}
```

**Logic**:
- Check if path starts with `/styleguide`
- Hide navbar and footer for styleguide routes
- Show for all other routes (public site)

## Usage Patterns

### Adding Navigation Items

**Desktop Navbar**:
```javascript
// Add to NAV_ITEMS array in Navbar.jsx
{ to: '/new-page', label: 'New Page' }

// Or with dropdown
{
  label: 'Section',
  children: [
    { to: '/section/page1', label: 'Page 1' },
    { to: '/section/page2', label: 'Page 2' }
  ]
}
```

**Footer Navigation**:
```javascript
// Add to Footer.jsx menu section
<Link to="/new-page">New Page</Link>
```

### Updating Routes

Navigation items must have corresponding routes defined in:
- `apps/web/src/App.jsx` (top-level routes)
- `apps/web/src/routes/Styleguide.jsx` (styleguide routes)

```javascript
// Add to App.jsx Routes
<Route path="new-page" element={<NewPage />} />
```

## Related Documentation

- [1.5.0 Navigation System](./1.5.0-navigation-system.md) - Overall architecture
- [5.0.2 Workshop Sidebar](./5.0.2-workshop-sidebar.md) - Styleguide navigation
- [1.5.3 Router DOM](./1.5.3-router-dom.md) - React Router integration

---

**Navbar & Footer**: The public-facing navigation layer that provides site-wide movement.
