# 3.3.0 Design System: Organisms

**Version:** 1.0
**Date:** 2025-11-04
**Status:** Active
**Content Type:** implementation
**Category:** design-system

---

# Organisms: Complex Sections

**Purpose:** Documentation of complex, distinct interface sections that combine molecules and atoms into standalone functional units.

> Organisms are distinct, complex sections of the interface that form a standalone part of the interface. They represent recognizable UI patterns like headers, footers, sidebars, product grids, and complete forms. Organisms combine multiple molecules and atoms, have clear boundaries, and can exist independently as complete features.

## Design Philosophy

1. **Distinct Sections** - Each organism is a recognizable, standalone UI section
2. **Complete Features** - Organisms implement complete user workflows
3. **Clear Boundaries** - Self-contained with well-defined interfaces
4. **Complex Layouts** - Combine multiple molecules and atoms in meaningful layouts
5. **Business Logic** - Contain application-specific logic and data handling
6. **Reusable Patterns** - Solve common interface problems across pages

## Organism Categories

### Layout Organisms

#### Header

**Location:** `apps/web/src/components/organisms/Header/`

The primary site navigation header with logo, navigation menu, search, and user actions.

**Composition:**
- Uses: `Logo` component
- Uses: `NavigationMenu` molecule
- Uses: `SearchForm` molecule (variation of `Input` + `Button`)
- Uses: `DropdownMenu` molecule (user menu)
- Contains: `Badge` atoms (notifications)

**Structure:**
```tsx
<Header>
  <Header.Logo>
    <Logo href="/" src="/logo.svg" alt="Kolkrabbi" />
  </Header.Logo>

  <Header.Navigation>
    <NavigationMenu
      items={[
        { label: 'Home', href: '/' },
        { label: 'Products', href: '/products' },
        { label: 'About', href: '/about' },
      ]}
    />
  </Header.Navigation>

  <Header.Search>
    <SearchForm placeholder="Search..." />
  </Header.Search>

  <Header.Actions>
    <Button variant="ghost" icon={<BellIcon />}>
      <Badge variant="danger" size="sm">3</Badge>
    </Button>
    <DropdownMenu
      trigger={
        <Avatar src="/user.jpg" name="John Doe" size="sm" />
      }
    >
      <DropdownMenuItem label="Profile" />
      <DropdownMenuItem label="Settings" />
      <DropdownMenuSeparator />
      <DropdownMenuItem label="Logout" />
    </DropdownMenu>
  </Header.Actions>
</Header>
```

**Props:**
```tsx
interface HeaderProps {
  children: React.ReactNode
  variant?: 'default' | 'transparent' | 'sticky'
  showSearch?: boolean
  showUserMenu?: boolean
  maxWidth?: 'sm' | 'md' | 'lg' | 'xl' | 'full'
}

interface HeaderLogoProps {
  children: React.ReactNode
}

interface HeaderNavigationProps {
  children: React.ReactNode
}

interface HeaderSearchProps {
  children: React.ReactNode
}

interface HeaderActionsProps {
  children: React.ReactNode
}
```

**States:**
- Default (scrolled to top)
- Scrolled (background blur)
- Mobile menu open/closed
- Transparent (on hero sections)

**Responsive Behavior:**
- Desktop: Full navigation visible
- Tablet: Collapsed navigation menu
- Mobile: Hamburger menu with drawer

**Accessibility:**
- Semantic `<header>` element
- Proper navigation landmarks
- Skip to content link
- Keyboard navigation for all interactive elements
- Focus management for mobile menu

#### Sidebar

**Location:** `apps/web/src/components/organisms/Sidebar/`

Navigation sidebar with collapsible sections and hierarchical menu structure.

**Composition:**
- Uses: `Logo` component
- Uses: `NavigationMenu` molecule (can be recursive)
- Uses: `Separator` atom (section dividers)
- Contains: `Badge` atoms (notifications, counts)

**Structure:**
```tsx
<Sidebar>
  <Sidebar.Logo>
    <Logo href="/dashboard" src="/logo.svg" alt="Kolkrabbi" />
  </Sidebar.Logo>

  <Sidebar.Navigation>
    <NavigationMenu
      orientation="vertical"
      items={[
        {
          label: 'Dashboard',
          icon: <DashboardIcon />,
          href: '/dashboard',
        },
        {
          label: 'Products',
          icon: <ProductsIcon />,
          badge: <Badge variant="danger">3</Badge>,
          children: [
            { label: 'All Products', href: '/products' },
            { label: 'Categories', href: '/products/categories' },
            { label: 'Add Product', href: '/products/new' },
          ],
        },
        {
          label: 'Settings',
          icon: <SettingsIcon />,
          children: [
            { label: 'Account', href: '/settings/account' },
            { label: 'Billing', href: '/settings/billing' },
          ],
        },
      ]}
    />
  </Sidebar.Navigation>

  <Sidebar.Footer>
    <Button variant="ghost" fullWidth>
      <LogOutIcon /> Logout
    </Button>
  </Sidebar.Footer>
</Sidebar>
```

**Props:**
```tsx
interface SidebarProps {
  children: React.ReactNode
  variant?: 'default' | 'elevated' | 'minimal'
  collapsed?: boolean
  onCollapsedChange?: (collapsed: boolean) => void
  maxWidth?: number
}

interface SidebarLogoProps {
  children: React.ReactNode
}

interface SidebarNavigationProps {
  children: React.ReactNode
}

interface SidebarFooterProps {
  children: React.ReactNode
}
```

**States:**
- Expanded (default)
- Collapsed (icon-only)
- Hover state (when collapsed)

**Accessibility:**
- Semantic `<aside>` element
- `aria-label` for navigation region
- `aria-current` for active menu items
- Keyboard navigation between menu items
- Expandable sections use `aria-expanded`

#### Footer

**Location:** `apps/web/src/components/organisms/Footer/`

Site footer with links, information, and secondary navigation.

**Composition:**
- Uses: `Logo` component
- Uses: `NavigationMenu` molecule (for link groups)
- Contains: `Separator` atom
- May contain: Social links, contact info

**Structure:**
```tsx
<Footer>
  <Footer.Content>
    <Footer.Section>
      <Logo href="/" src="/logo.svg" alt="Kolkrabbi" />
      <p className="mt-4 text-fg-64">
        Building the future of web design systems.
      </p>
    </Footer.Section>

    <Footer.Section>
      <h4 className="kol-helper-uc-xs">Products</h4>
      <NavigationMenu
        items={[
          { label: 'Overview', href: '/products' },
          { label: 'Features', href: '/features' },
          { label: 'Pricing', href: '/pricing' },
        ]}
      />
    </Footer.Section>

    <Footer.Section>
      <h4 className="kol-helper-uc-xs">Company</h4>
      <NavigationMenu
        items={[
          { label: 'About', href: '/about' },
          { label: 'Blog', href: '/blog' },
          { label: 'Contact', href: '/contact' },
        ]}
      />
    </Footer.Section>

    <Footer.Section>
      <h4 className="kol-helper-uc-xs">Connect</h4>
      <div className="flex gap-4">
        <Button variant="ghost" size="sm" icon={<TwitterIcon />} />
        <Button variant="ghost" size="sm" icon={<GitHubIcon />} />
        <Button variant="ghost" size="sm" icon={<LinkedInIcon />} />
      </div>
    </Footer.Section>
  </Footer.Content>

  <Footer.Bottom>
    <Separator />
    <div className="flex justify-between items-center py-4">
      <p className="text-fg-64">© 2025 Kolkrabbi. All rights reserved.</p>
      <NavigationMenu
        items={[
          { label: 'Privacy', href: '/privacy' },
          { label: 'Terms', href: '/terms' },
        ]}
      />
    </div>
  </Footer.Bottom>
</Footer>
```

**Props:**
```tsx
interface FooterProps {
  children: React.ReactNode
  variant?: 'default' | 'minimal' | 'elevated'
}

interface FooterContentProps {
  children: React.ReactNode
}

interface FooterSectionProps {
  title?: string
  children: React.ReactNode
}

interface FooterBottomProps {
  children: React.ReactNode
}
```

### Content Organisms

#### BlogPost

**Location:** `apps/web/src/components/organisms/BlogPost/`

Complete blog post layout with header, content, author, and related posts.

**Composition:**
- Uses: `ProseBlock` molecule (for content)
- Uses: `StackArticle` molecule (structure)
- Contains: `Avatar` atom (author)
- Contains: `Badge` atoms (tags, reading time)
- Contains: `Separator` atom
- May include: `AspectRatio` atom (featured image)

**Structure:**
```tsx
<BlogPost>
  <BlogPost.Header>
    <Badge variant="default">Design Systems</Badge>
    <h1 className="kol-heading-xl mt-4">
      Building Scalable Design Systems
    </h1>
    <p className="kol-text-lg text-fg-64 mt-2">
      A comprehensive guide to creating maintainable design systems
    </p>

    <div className="flex items-center gap-4 mt-8">
      <Avatar
        src="/authors/john.jpg"
        name="John Doe"
        size="md"
      />
      <div>
        <p className="kol-text-md">John Doe</p>
        <p className="kol-text-sm text-fg-64">
          <time dateTime="2025-11-04">Nov 4, 2025</time>
          • 12 min read
        </p>
      </div>
      <div className="ml-auto flex gap-2">
        <Badge variant="success">Design</Badge>
        <Badge variant="info">Systems</Badge>
      </div>
    </div>

    <AspectRatio ratio={16/9} className="mt-8">
      <img src="/blog/featured.jpg" alt="Featured image" />
    </AspectRatio>
  </BlogPost.Header>

  <BlogPost.Content>
    <ProseBlock variant="standard">
      <p>Content...</p>
    </ProseBlock>
  </BlogPost.Content>

  <BlogPost.Footer>
    <Separator />
    <div className="flex gap-4 mt-8">
      <Button variant="ghost" icon={<LikeIcon />}>Like</Button>
      <Button variant="ghost" icon={<ShareIcon />}>Share</Button>
      <Button variant="ghost" icon={<BookmarkIcon />}>Save</Button>
    </div>

    <div className="mt-8">
      <h3 className="kol-heading-sm">About the author</h3>
      <div className="flex gap-4 mt-4">
        <Avatar
          src="/authors/john.jpg"
          name="John Doe"
          size="lg"
        />
        <div>
          <p className="kol-text-md">
            John is a senior design engineer specializing in design systems.
          </p>
        </div>
      </div>
    </div>

    <div className="mt-8">
      <h3 className="kol-heading-sm">Related articles</h3>
      <div className="grid grid-cols-2 gap-4 mt-4">
        <Card>...</Card>
        <Card>...</Card>
      </div>
    </div>
  </BlogPost.Footer>
</BlogPost>
```

**Props:**
```tsx
interface BlogPostProps {
  title: string
  author: {
    name: string
    avatar?: string
    bio?: string
  }
  publishedAt: Date
  updatedAt?: Date
  readingTime?: number
  tags?: string[]
  featuredImage?: {
    src: string
    alt: string
    caption?: string
  }
  children: React.ReactNode
}

interface BlogPostHeaderProps {
  children: React.ReactNode
}

interface BlogPostContentProps {
  children: React.ReactNode
}

interface BlogPostFooterProps {
  children: React.ReactNode
}
```

#### FeatureGrid

**Location:** `apps/web/src/components/organisms/FeatureGrid/`

Grid of feature showcases with icons, titles, and descriptions.

**Composition:**
- Uses: `Icon` atoms
- Uses: `Card` molecules (as containers)
- Contains: `Heading` atoms
- Contains: `Text` atoms

**Structure:**
```tsx
<FeatureGrid>
  <FeatureGrid.Header>
    <h2 className="kol-heading-lg">Features</h2>
    <p className="kol-text-lg text-fg-64 mt-2">
      Everything you need to build amazing products
    </p>
  </FeatureGrid.Header>

  <FeatureGrid.Content>
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <Card variant="outlined" padding="lg">
        <div className="flex items-center gap-3">
          <div className="kol-accent-primary">
            <DesignIcon size={24} />
          </div>
          <h3 className="kol-heading-sm">Design System</h3>
        </div>
        <p className="kol-text-md text-fg-64 mt-4">
          Complete design system with tokens, components, and guidelines.
        </p>
      </Card>

      <Card variant="outlined" padding="lg">
        <div className="flex items-center gap-3">
          <div className="kol-accent-primary">
            <ComponentIcon size={24} />
          </div>
          <h3 className="kol-heading-sm">Components</h3>
        </div>
        <p className="kol-text-md text-fg-64 mt-4">
          Pre-built components for rapid prototyping and development.
        </p>
      </Card>

      <Card variant="outlined" padding="lg">
        <div className="flex items-center gap-3">
          <div className="kol-accent-primary">
            <CodeIcon size={24} />
          </div>
          <h3 className="kol-heading-sm">Developer Tools</h3>
        </div>
        <p className="kol-text-md text-fg-64 mt-4">
          Comprehensive documentation and development utilities.
        </p>
      </Card>
    </div>
  </FeatureGrid.Content>
</FeatureGrid>
```

**Props:**
```tsx
interface FeatureGridProps {
  variant?: 'default' | 'elevated' | 'minimal'
  columns?: 1 | 2 | 3 | 4
  children: React.ReactNode
}

interface FeatureGridHeaderProps {
  title: string
  description?: string
  action?: React.ReactNode
}

interface FeatureGridContentProps {
  children: React.ReactNode
}
```

### Product/Service Organisms

#### ProductCard

**Location:** `apps/web/src/components/organisms/ProductCard/`

Individual product display with image, title, price, and actions.

**Composition:**
- Uses: `Card` molecule (base container)
- Uses: `AspectRatio` atom (product image)
- Contains: `Badge` atoms (status, category)
- Contains: `Button` atoms (actions)
- Contains: `Avatar` atom (for user ratings)

**Structure:**
```tsx
<ProductCard>
  <ProductCard.Image>
    <AspectRatio ratio={4/3}>
      <img src="/products/laptop.jpg" alt="Laptop Pro" />
    </AspectRatio>
    <div className="absolute top-4 left-4">
      <Badge variant="success">New</Badge>
    </div>
    <div className="absolute top-4 right-4">
      <Button variant="ghost" icon={<HeartIcon />} size="sm" />
    </div>
  </ProductCard.Image>

  <ProductCard.Content>
    <div className="flex items-center gap-2 mt-4">
      <Badge variant="default">Laptops</Badge>
      <Badge variant="warning">20% off</Badge>
    </div>

    <h3 className="kol-heading-md mt-2">Laptop Pro 16"</h3>

    <p className="kol-text-sm text-fg-64 mt-2">
      High-performance laptop with M3 chip and 32GB RAM
    </p>

    <div className="flex items-center gap-2 mt-4">
      <div className="flex">
        <StarIcon className="text-yellow-500" size={16} />
        <StarIcon className="text-yellow-500" size={16} />
        <StarIcon className="text-yellow-500" size={16} />
        <StarIcon className="text-yellow-500" size={16} />
        <StarIcon className="text-yellow-500" size={16} />
      </div>
      <span className="kol-text-sm text-fg-64">(128 reviews)</span>
    </div>

    <div className="flex items-center gap-2 mt-4">
      <span className="kol-helper-uc-lg kol-accent-primary">$2,499</span>
      <span className="kol-text-md text-fg-64 line-through">$2,999</span>
    </div>
  </ProductCard.Content>

  <ProductCard.Footer>
    <div className="flex gap-2">
      <Button variant="primary" fullWidth>
        Add to Cart
      </Button>
      <Button variant="secondary" icon={<CartIcon />} />
    </div>
  </ProductCard.Footer>
</ProductCard>
```

**Props:**
```tsx
interface ProductCardProps {
  id: string
  title: string
  description?: string
  price: number
  originalPrice?: number
  currency?: string
  category?: string
  status?: 'new' | 'sale' | 'bestseller' | 'out-of-stock'
  image: {
    src: string
    alt: string
  }
  rating?: {
    average: number
    count: number
  }
  badges?: string[]
  onAddToCart?: (id: string) => void
  onAddToWishlist?: (id: string) => void
}

interface ProductCardImageProps {
  children: React.ReactNode
}

interface ProductCardContentProps {
  children: React.ReactNode
}

interface ProductCardFooterProps {
  children: React.ReactNode
}
```

**States:**
- Default
- Hover (elevated)
- Loading (skeleton)
- Out of stock (disabled)

### E-commerce Organisms

#### Cart

**Location:** `apps/web/src/components/organisms/Cart/`

Shopping cart interface with item list, totals, and checkout actions.

**Composition:**
- Uses: `DataTable` molecule (for item list)
- Uses: `Button` atoms (actions)
- Contains: `Badge` atoms (quantities)
- Contains: `Input` atoms (quantity controls)

**Structure:**
```tsx
<Cart>
  <Cart.Header>
    <h2 className="kol-heading-lg">Shopping Cart (3)</h2>
  </Cart.Header>

  <Cart.Items>
    <DataTable
      columns={[
        {
          accessorKey: 'product',
          header: 'Product',
          cell: (row) => (
            <div className="flex gap-4">
              <AspectRatio ratio={1} className="w-16">
                <img src={row.image} alt={row.name} />
              </AspectRatio>
              <div>
                <h4 className="kol-text-md">{row.name}</h4>
                <p className="kol-text-sm text-fg-64">{row.description}</p>
              </div>
            </div>
          ),
        },
        {
          accessorKey: 'price',
          header: 'Price',
          cell: (row) => (
            <span className="kol-text-md">${row.price}</span>
          ),
        },
        {
          accessorKey: 'quantity',
          header: 'Quantity',
          cell: (row) => (
            <div className="flex items-center gap-2">
              <Button
                variant="ghost"
                size="sm"
                icon={<MinusIcon />}
                onClick={() => updateQuantity(row.id, row.quantity - 1)}
              />
              <Input
                value={row.quantity}
                onChange={(e) => updateQuantity(row.id, parseInt(e.target.value))}
                className="w-16 text-center"
              />
              <Button
                variant="ghost"
                size="sm"
                icon={<PlusIcon />}
                onClick={() => updateQuantity(row.id, row.quantity + 1)}
              />
            </div>
          ),
        },
        {
          accessorKey: 'total',
          header: 'Total',
          cell: (row) => (
            <span className="kol-text-md font-semibold">
              ${(row.price * row.quantity).toFixed(2)}
            </span>
          ),
        },
        {
          accessorKey: 'actions',
          header: '',
          cell: (row) => (
            <Button
              variant="ghost"
              icon={<TrashIcon />}
              onClick={() => removeItem(row.id)}
            />
          ),
        },
      ]}
      data={items}
    />
  </Cart.Items>

  <Cart.Summary>
    <Card>
      <Card.Content>
        <div className="space-y-4">
          <div className="flex justify-between">
            <span className="kol-text-md">Subtotal</span>
            <span className="kol-text-md">$2,999.00</span>
          </div>
          <div className="flex justify-between">
            <span className="kol-text-md">Shipping</span>
            <span className="kol-text-md">$29.00</span>
          </div>
          <div className="flex justify-between">
            <span className="kol-text-md">Tax</span>
            <span className="kol-text-md">$240.00</span>
          </div>
          <Separator />
          <div className="flex justify-between">
            <span className="kol-helper-uc-lg">Total</span>
            <span className="kol-helper-uc-lg">$3,268.00</span>
          </div>
        </div>
      </Card.Content>
      <Card.Footer>
        <Button variant="primary" fullWidth size="lg">
          Proceed to Checkout
        </Button>
      </Card.Footer>
    </Card>
  </Cart.Summary>
</Cart>
```

**Props:**
```tsx
interface CartItem {
  id: string
  name: string
  description: string
  price: number
  quantity: number
  image: string
}

interface CartProps {
  items: CartItem[]
  onUpdateQuantity?: (id: string, quantity: number) => void
  onRemoveItem?: (id: string) => void
  onCheckout?: () => void
}

interface CartHeaderProps {
  itemCount: number
}

interface CartItemsProps {
  children: React.ReactNode
}

interface CartSummaryProps {
  subtotal: number
  shipping: number
  tax: number
  total: number
  onCheckout?: () => void
}
```

#### Checkout

**Location:** `apps/web/src/components/organisms/Checkout/`

Multi-step checkout process with form validation.

**Composition:**
- Uses: `Steps` or `Tabs` molecule (progress indicator)
- Uses: `Form` molecules (contact, shipping, payment)
- Uses: `OrderSummary` sub-component
- Contains: `Input` atoms, validation
- Contains: `Button` atoms (form actions)

**Structure:**
```tsx
<Checkout>
  <Checkout.Header>
    <h1 className="kol-heading-lg">Checkout</h1>
    <Progress steps={['Contact', 'Shipping', 'Payment', 'Review']} current={1} />
  </Checkout.Header>

  <Checkout.Content>
    <Checkout.Form>
      <Tabs value="contact">
        <TabsList>
          <TabsTrigger value="contact">1. Contact</TabsTrigger>
          <TabsTrigger value="shipping">2. Shipping</TabsTrigger>
          <TabsTrigger value="payment">3. Payment</TabsTrigger>
          <TabsTrigger value="review">4. Review</TabsTrigger>
        </TabsList>

        <TabsContent value="contact">
          <form>
            <Input label="Email" type="email" required />
            <Input label="Phone" type="tel" required />
          </form>
        </TabsContent>

        <TabsContent value="shipping">
          <form>
            <Input label="Full Name" required />
            <Input label="Address" required />
            <Input label="City" required />
            <Input label="State" required />
            <Input label="ZIP Code" required />
          </form>
        </TabsContent>

        <TabsContent value="payment">
          <form>
            <Input label="Card Number" required />
            <div className="grid grid-cols-2 gap-4">
              <Input label="Expiry" required />
              <Input label="CVV" required />
            </div>
          </form>
        </TabsContent>

        <TabsContent value="review">
          <OrderSummary items={items} totals={totals} />
        </TabsContent>
      </Tabs>
    </Checkout.Form>

    <Checkout.Sidebar>
      <OrderSummary items={items} totals={totals} />
    </Checkout.Sidebar>
  </Checkout.Content>

  <Checkout.Footer>
    <Button variant="ghost">Back</Button>
    <Button variant="primary">Continue</Button>
  </Checkout.Footer>
</Checkout>
```

**Props:**
```tsx
interface CheckoutProps {
  steps: string[]
  currentStep: number
  onStepChange?: (step: number) => void
  children: React.ReactNode
}

interface CheckoutFormProps {
  children: React.ReactNode
}

interface CheckoutSidebarProps {
  children: React.ReactNode
}

interface CheckoutFooterProps {
  children: React.ReactNode
}
```

### Home Page Organisms

#### HomeHero

**Location:** `apps/web/src/components/organisms/HomeHero/`

Homepage hero section with headline, subtext, and call-to-action.

**Composition:**
- Uses: `Heading` atoms (display headings)
- Uses: `Text` atoms (supporting copy)
- Uses: `Button` atoms (CTAs)
- Uses: `Badge` atoms (notifications)

**Structure:**
```tsx
<HomeHero>
  <HomeHero.Content>
    <Badge variant="default" className="mb-4">
      <SparklesIcon /> New: Design System v3.0
    </Badge>

    <h1 className="kol-display-section max-w-4xl">
      Build Beautiful Design Systems Faster
    </h1>

    <p className="kol-text-lg max-w-2xl mt-4 text-fg-64">
      Kolkrabbi is the complete design system toolkit with tokens, components,
      and documentation that scale with your product.
    </p>

    <div className="flex gap-4 mt-8">
      <Button variant="primary" size="lg">
        Get Started
        <ArrowRightIcon />
      </Button>
      <Button variant="secondary" size="lg">
        View Demo
      </Button>
    </div>

    <div className="flex items-center gap-6 mt-12 text-fg-64">
      <div className="flex items-center gap-2">
        <CheckIcon className="text-green-500" size={20} />
        <span className="kol-text-sm">500+ Components</span>
      </div>
      <div className="flex items-center gap-2">
        <CheckIcon className="text-green-500" size={20} />
        <span className="kol-text-sm">TypeScript</span>
      </div>
      <div className="flex items-center gap-2">
        <CheckIcon className="text-green-500" size={20} />
        <span className="kol-text-sm">WCAG 2.1 AA</span>
      </div>
    </div>
  </HomeHero.Content>

  <HomeHero.Media>
    <AspectRatio ratio={16/9}>
      <div className="relative bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg overflow-hidden">
        <img
          src="/hero-demo.png"
          alt="Design system demo"
          className="w-full h-full object-cover"
        />
      </div>
    </AspectRatio>
  </HomeHero.Media>
</HomeHero>
```

**Props:**
```tsx
interface HomeHeroProps {
  title: string
  description: string
  cta?: {
    primary: {
      label: string
      href: string
    }
    secondary: {
      label: string
      href: string
    }
  }
  stats?: {
    label: string
    value: string
  }[]
  image?: {
    src: string
    alt: string
  }
  variant?: 'default' | 'split' | 'centered'
}

interface HomeHeroContentProps {
  children: React.ReactNode
}

interface HomeHeroMediaProps {
  children: React.ReactNode
}
```

## Composition Patterns in Organisms

### Compound Components

Organisms often use compound components for flexibility:

```tsx
<Header>
  <Header.Logo>...</Header.Logo>
  <Header.Navigation>...</Header.Navigation>
  <Header.Actions>...</Header.Actions>
</Header>
```

### Layout Composition

Organisms combine molecules in specific layouts:

```tsx
// Split layout with main content and sidebar
<div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <main className="lg:col-span-2">
      {/* Main content organisms */}
    </main>
    <aside className="lg:col-span-1">
      {/* Sidebar organisms */}
    </aside>
  </div>
</div>
```

### Data Loading

Organisms handle data fetching and state:

```tsx
function ProductGrid({ category }) {
  const [products, setProducts] = useState([])
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    fetchProducts(category).then((data) => {
      setProducts(data)
      setLoading(false)
    })
  }, [category])

  if (loading) {
    return <ProductGridSkeleton />
  }

  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {products.map((product) => (
        <ProductCard key={product.id} {...product} />
      ))}
    </div>
  )
}
```

## Best Practices

### Do's

✅ Keep organisms focused on a single purpose
✅ Use semantic HTML structure
✅ Implement proper loading states
✅ Handle empty/error states gracefully
✅ Maintain responsive layouts
✅ Include proper ARIA attributes
✅ Support keyboard navigation
✅ Document prop interfaces
✅ Use TypeScript for type safety
✅ Test with real data
✅ Implement error boundaries
✅ Follow design system tokens

### Don'ts

❌ Mix multiple unrelated features
❌ Depend on global state excessively
❌ Skip accessibility considerations
❌ Hardcode layout measurements
❌ Ignore mobile responsiveness
❌ Duplicate logic from molecules
❌ Skip loading/error states
❌ Use non-semantic HTML
❌ Break component boundaries
❌ Omit prop documentation
❌ Skip integration tests
❌ Ignore performance (large payloads)

## State Management in Organisms

### Local State

Organisms manage their own UI state:

```tsx
function Header() {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)

  return (
    <header>
      {/* ... */}
      <Button
        variant="ghost"
        icon={<MenuIcon />}
        onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
        className="lg:hidden"
      />
    </header>
  )
}
```

### Shared State

Organisms coordinate with parent components:

```tsx
function Layout({ children }) {
  const [sidebarCollapsed, setSidebarCollapsed] = useState(false)

  return (
    <div className="flex">
      <Sidebar
        collapsed={sidebarCollapsed}
        onToggle={() => setSidebarCollapsed(!sidebarCollapsed)}
      />
      <main>{children}</main>
    </div>
  )
}
```

### Server State

Organisms handle data fetching:

```tsx
function ProductGrid() {
  const { data, error, isLoading } = useQuery(['products'], fetchProducts)

  if (isLoading) return <ProductGridSkeleton />
  if (error) return <ProductGridError error={error} />

  return <ProductGridContent products={data} />
}
```

## Performance Optimization

### Code Splitting

Load organisms on demand:

```tsx
const Checkout = lazy(() => import('./organisms/Checkout'))

function App() {
  return (
    <Suspense fallback={<CheckoutSkeleton />}>
      <Route path="/checkout" element={<Checkout />} />
    </Suspense>
  )
}
```

### Data Optimization

Use efficient data structures:

```tsx
// Use memoization for expensive operations
const ProductGrid = memo(function ProductGrid({ products }) {
  const sortedProducts = useMemo(() => {
    return [...products].sort((a, b) => a.price - b.price)
  }, [products])

  return <div>{/* render products */}</div>
})
```

### Image Optimization

Optimize media loading:

```tsx
<AspectRatio ratio={16/9}>
  <img
    src={product.image}
    alt={product.name}
    loading="lazy"
    srcSet={`${product.imageSmall} 400w, ${product.imageLarge} 800w`}
    sizes="(max-width: 768px) 100vw, 50vw"
  />
</AspectRatio>
```

## Testing Organisms

### Unit Tests

```tsx
// Header.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import { Header } from './Header'

describe('Header', () => {
  it('renders logo', () => {
    render(<Header />)
    expect(screen.getByAltText('Kolkrabbi')).toBeInTheDocument()
  })

  it('toggles mobile menu', () => {
    render(<Header />)
    const menuButton = screen.getByRole('button', { name: /menu/i })
    fireEvent.click(menuButton)
    expect(screen.getByRole('navigation')).toBeVisible()
  })
})
```

### Integration Tests

```tsx
// Cart.test.tsx
import { render, screen } from '@testing-library/react'
import userEvent from '@testing-library/user-event'
import { Cart } from './Cart'

describe('Cart', () => {
  it('updates quantity when changed', async () => {
    const user = userEvent.setup()
    const onUpdate = jest.fn()

    render(<Cart items={mockItems} onUpdateQuantity={onUpdate} />)

    const quantityInput = screen.getByDisplayValue('1')
    await user.clear(quantityInput)
    await user.type(quantityInput, '2')

    expect(onUpdate).toHaveBeenCalledWith('item-1', 2)
  })
})
```

### E2E Tests

```tsx
// Cart.e2e.spec.ts
import { test, expect } from '@playwright/test'

test('complete checkout flow', async ({ page }) => {
  await page.goto('/cart')

  // Add items
  await page.click('[data-testid="add-to-cart"]')

  // Proceed to checkout
  await page.click('[data-testid="checkout-button"]')

  // Fill form
  await page.fill('[name="email"]', 'test@example.com')
  await page.fill('[name="address"]', '123 Main St')

  // Place order
  await page.click('[data-testid="place-order"]')

  // Verify success
  await expect(page.locator('[data-testid="order-success"]')).toBeVisible()
})
```

## Related Documentation

**Components:**
- [3.0.0 Design System: Components Overview](3.0.0-design-system-components.md) - Atomic design methodology
- [3.1.0 Design System: Atoms](3.1.0-design-system-atoms.md) - Basic building blocks
- [3.2.0 Design System: Molecules](3.2.0-design-system-molecules.md) - Simple combinations

**Design System:**
- [2.3.0 Design System: CSS Architecture](2.3.0-design-system-css-architecture.md) - Layer structure
- [2.4.0 Design System: Prose](2.4.0-design-system-prose.md) - Prose integration

**Research:**
- [6.1.0 Research: Data Tables](6.1.0-research-data-tables.md) - Data display patterns

**Pages:**
- [4.0.0 Pages: Templates & Layouts](4.0.0-pages-templates-layouts.md) - Page composition

---

**File Locations:**
- **Components:** `apps/web/src/components/organisms/`
- **Shared UI:** `packages/ui/src/organisms/` (if applicable)
- **Tests:** `apps/web/src/components/organisms/*/*.test.tsx`
- **Stories:** `apps/web/src/components/organisms/*/*.stories.tsx`

---

**Last Updated:** 2025-11-04
**Cross-References:** 3.0.0, 3.1.0, 3.2.0, 4.0.0, 2.3.0, 2.4.0, 6.1.0
**Category:** Design System
**Status:** Active
