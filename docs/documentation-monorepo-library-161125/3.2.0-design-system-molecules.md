# 3.2.0 Design System: Molecules

**Version:** 1.0
**Date:** 2025-11-04
**Status:** Active
**Content Type:** implementation
**Category:** design-system

---

# Molecules: Simple Combinations

**Purpose:** Documentation of atom combinations that work together as single functional units in the kolkrabbi design system.

> Molecules are groups of atoms working together as a single unit to perform a specific function. They combine 2-5 atoms into a coherent whole that has its own identity and purpose, distinct from the individual atoms that compose it. Molecules are the first level where we start to see emergent functionality that wasn't present in the individual atoms.

## Design Philosophy

1. **Functional Units** - Molecules solve a specific problem through atom composition
2. **Clear Purpose** - Each molecule has a distinct function separate from its constituent atoms
3. **Composable** - Molecules work independently and combine into organisms
4. **Maintain Atomic Principles** - Still use design tokens, maintain accessibility
5. **Shared Logic** - Contain business logic that would be duplicated in multiple organisms
6. **Balanced Complexity** - Complex enough to solve problems, simple enough to be reusable

## Molecule Categories

### Layout Molecules

#### Card

**Location:** `packages/ui/src/molecules/Card/`

A container for grouping related content with optional header, body, and footer.

**Structure:**
```tsx
<Card>
  <Card.Header>
    <Card.Title>Card Title</Card.Title>
  </Card.Header>
  <Card.Content>
    <p>Card content goes here</p>
  </Card.Content>
  <Card.Footer>
    <Button variant="primary">Action</Button>
  </Card.Footer>
</Card>
```

**Composition:**
- Uses: `Separator` atom
- Contains: `Button`, `Badge`, `Input` atoms
- Wraps: `Avatar`, `AspectRatio` atoms

**Props:**
```tsx
interface CardProps extends React.HTMLAttributes<HTMLDivElement> {
  variant?: 'default' | 'elevated' | 'outlined'
  padding?: 'none' | 'sm' | 'md' | 'lg'
  children: React.ReactNode
}

interface CardHeaderProps extends React.HTMLAttributes<HTMLDivElement> {
  children: React.ReactNode
}

interface CardTitleProps extends React.HTMLAttributes<HTMLHeadingElement> {
  children: React.ReactNode
}

interface CardContentProps extends React.HTMLAttributes<HTMLDivElement> {
  children: React.ReactNode
}

interface CardFooterProps extends React.HTMLAttributes<HTMLDivElement> {
  children: React.ReactNode
}
```

**Usage:**
```tsx
// Product card
<Card variant="elevated">
  <Card.Header>
    <div className="flex items-center justify-between">
      <Card.Title>Product Name</Card.Title>
      <Badge variant="success">In Stock</Badge>
    </div>
  </Card.Header>
  <Card.Content>
    <AspectRatio ratio={4/3}>
      <img src="/product.jpg" alt="Product" />
    </AspectRatio>
    <p className="mt-4">Product description...</p>
  </Card.Content>
  <Card.Footer>
    <div className="flex gap-2">
      <Button variant="primary" size="sm">Add to Cart</Button>
      <Button variant="ghost" size="sm">Wishlist</Button>
    </div>
  </Card.Footer>
</Card>
```

**Accessibility:**
- Semantic HTML structure (article, header, main, footer)
- Proper heading hierarchy
- ARIA roles where appropriate
- Keyboard navigation for interactive elements

#### SectionToggle

**Location:** `packages/ui/src/molecules/SectionToggle/`

Expandable/collapsible section with toggle button and animated content.

**Composition:**
- Uses: `Button` atom (for toggle)
- Wraps: Content area with animation

**Props:**
```tsx
interface SectionToggleProps {
  label: string
  description?: string
  defaultExpanded?: boolean
  expanded?: boolean
  onExpandedChange?: (expanded: boolean) => void
  icon?: React.ReactNode
  children: React.ReactNode
}
```

**Usage:**
```tsx
<SectionToggle
  label="Advanced Settings"
  description="Configure advanced options"
  defaultExpanded={false}
>
  <div className="space-y-4">
    <Input label="Setting 1" />
    <Input label="Setting 2" />
  </div>
</SectionToggle>
```

**States:**
- Collapsed (default)
- Expanded
- Disabled
- Loading (when content is loading)

### Navigation Molecules

#### ViewToggle

**Location:** `packages/ui/src/molecules/ViewToggle.jsx`

Toggle button group for switching between different view modes (e.g., card view, list view).

**Composition:**
- Uses: Text labels with button styling
- Supports: Custom options array
- Default: Card/List toggle

**Props:**
```tsx
interface ViewToggleProps {
  viewMode: string
  onViewChange: (mode: string) => void
  options?: Array<{
    value: string
    label: string
  }>
  className?: string
}
```

**Default Options:**
```tsx
[
  { value: 'card', label: 'Card view' },
  { value: 'list', label: 'List view' }
]
```

**Usage:**
```tsx
import { ViewToggle } from '@kol/ui'

const [viewMode, setViewMode] = useState('card')

<ViewToggle
  viewMode={viewMode}
  onViewChange={setViewMode}
/>

// Custom options
<ViewToggle
  viewMode={viewMode}
  onViewChange={setViewMode}
  options={[
    { value: 'grid', label: 'Grid view' },
    { value: 'table', label: 'Table view' }
  ]}
/>
```

**Typography:**
- Uses `kol-mono-xs` for button labels
- Active state: `bg-surface-secondary text-auto`
- Inactive state: `text-fg-64 hover:text-auto`

**States:**
- Active (selected view mode)
- Inactive (other view modes)
- Hover (subtle color change)

**Accessibility:**
- `aria-label` on each button
- `aria-pressed` indicates active state
- Semantic button elements
- Keyboard navigable (Tab, Enter/Space)

**Variants:**
There's also an icon-based ViewToggle variant (`apps/web/src/components/sections/collections/ViewToggle.jsx`) that uses grid/list icons instead of text labels.

#### Breadcrumbs

**Location:** `packages/ui/src/molecules/Breadcrumbs/`

Navigation path indicator showing the user's location in a hierarchical structure.

**Composition:**
- Uses: `SidebarMenuItem` atom pattern (for links)
- Uses: `Separator` atom (for separators)

**Props:**
```tsx
interface BreadcrumbsProps {
  items: {
    label: string
    href?: string
    onClick?: () => void
  }[]
  separator?: React.ReactNode
  size?: 'sm' | 'md' | 'lg'
}
```

**Usage:**
```tsx
<Breadcrumbs
  items={[
    { label: 'Home', href: '/' },
    { label: 'Products', href: '/products' },
    { label: 'Electronics', href: '/products/electronics' },
    { label: 'Laptops' }
  ]}
/>
```

**Accessibility:**
- `aria-label` identifies as breadcrumbs
- `aria-current` on current page item
- Keyboard navigation with arrow keys
- Separators are decorative only

#### Pagination

**Location:** `packages/ui/src/molecules/Pagination/`

Page navigation control for large datasets.

**Composition:**
- Uses: `Button` atom (prev/next)
- Uses: `SidebarMenuItem` atom pattern (page numbers)
- Uses: `Badge` atom (current page indicator)

**Props:**
```tsx
interface PaginationProps {
  currentPage: number
  totalPages: number
  onPageChange: (page: number) => void
  showFirstLast?: boolean
  showPrevNext?: boolean
  maxVisible?: number
}
```

**Usage:**
```tsx
<Pagination
  currentPage={5}
  totalPages={20}
  onPageChange={(page) => setCurrentPage(page)}
/>
```

**States:**
- Active page (highlighted)
- Disabled (first/last, prev/next)
- Loading (when changing pages)

**Accessibility:**
- `aria-label` for pagination region
- `aria-current` on current page
- Proper button semantics
- Keyboard: Arrow keys to navigate pages

#### Tabs

**Location:** `packages/ui/src/molecules/Tabs/`

Content switching interface with tab navigation.

**Composition:**
- Uses: `SidebarMenuItem` atom pattern (tab triggers)
- Controls: Content panels

**Props:**
```tsx
interface TabsProps {
  value?: string
  defaultValue?: string
  onValueChange?: (value: string) => void
  orientation?: 'horizontal' | 'vertical'
  children: React.ReactNode
}

interface TabsListProps {
  children: React.ReactNode
}

interface TabsTriggerProps {
  value: string
  disabled?: boolean
  children: React.ReactNode
}

interface TabsContentProps {
  value: string
  children: React.ReactNode
}
```

**Usage:**
```tsx
<Tabs defaultValue="tab1">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2">Tab 2</TabsTrigger>
    <TabsTrigger value="tab3">Tab 3</TabsTrigger>
  </TabsList>

  <TabsContent value="tab1">
    <p>Content for tab 1</p>
  </TabsContent>

  <TabsContent value="tab2">
    <p>Content for tab 2</p>
  </TabsContent>

  <TabsContent value="tab3">
    <p>Content for tab 3</p>
  </TabsContent>
</Tabs>
```

**Accessibility:**
- `role="tablist"` on container
- `role="tab"` on triggers
- `role="tabpanel"` on content
- Keyboard: Arrow keys to switch tabs
- `aria-selected` on active tab
- `aria-controls` linking tab to panel

### Form Molecules

#### DropdownMenu

**Location:** `packages/ui/src/molecules/DropdownMenu/`

Selectable list with trigger button.

**Composition:**
- Uses: `Button` atom (trigger)
- Uses: `SidebarMenuItem` atom pattern (menu items)
- Contains: `Badge` atom (for indicators)

**Props:**
```tsx
interface DropdownMenuProps {
  trigger: React.ReactNode
  children: React.ReactNode
  align?: 'start' | 'center' | 'end'
}

interface DropdownMenuItemProps {
  icon?: React.ReactNode
  label: string
  shortcut?: string
  disabled?: boolean
  onClick?: () => void
  href?: string
  children?: React.ReactNode
}

interface DropdownMenuSeparatorProps {
  orientation?: 'horizontal' | 'vertical'
}
```

**Usage:**
```tsx
<DropdownMenu
  trigger={
    <Button variant="secondary">
      <MenuIcon /> Menu
    </Button>
  }
>
  <DropdownMenuItem icon={<UserIcon />} label="Profile" />
  <DropdownMenuItem icon={<SettingsIcon />} label="Settings" />
  <DropdownMenuSeparator />
  <DropdownMenuItem icon={<LogOutIcon />} label="Logout" />
</DropdownMenu>
```

**States:**
- Open
- Closed
- Disabled items
- Loading (async actions)

**Accessibility:**
- `role="menu"` on dropdown
- `role="menuitem"` on items
- Keyboard: Arrow keys to navigate
- Enter/Space to select
- Escape to close
- Focus management (trap, return focus)

### Feedback Molecules

#### Alert

**Location:** `packages/ui/src/molecules/Alert/`

Message container with type variants for different severities.

**Composition:**
- Uses: `Badge` atom (for icon/indicator)
- Contains: Message content and optional actions

**Variants:**
- `info` - Informational messages
- `success` - Success confirmations
- `warning` - Cautionary messages
- `danger` - Error messages

**Props:**
```tsx
interface AlertProps {
  variant?: 'info' | 'success' | 'warning' | 'danger'
  title?: string
  children: React.ReactNode
  dismissible?: boolean
  onDismiss?: () => void
  action?: React.ReactNode
}
```

**Usage:**
```tsx
// Simple alert
<Alert variant="info">
  Your changes have been saved successfully.
</Alert>

// Alert with title and action
<Alert
  variant="warning"
  title="Unsaved Changes"
  action={
    <Button variant="ghost" size="sm">
      Review Changes
    </Button>
  }
>
  You have unsaved changes that will be lost if you navigate away.
</Alert>

// Dismissible alert
<Alert
  variant="danger"
  title="Connection Error"
  dismissible
  onDismiss={() => setShowError(false)}
>
  Unable to connect to the server. Please check your internet connection.
</Alert>
```

**Accessibility:**
- `role="alert"` for important messages
- `aria-live="polite"` or `assertive` based on urgency
- Proper heading structure for titled alerts
- Focus management for dismissible alerts

#### Tooltip (Enhanced)

**Location:** `packages/ui/src/atoms/Tooltip/` (atom) and composition patterns

Molecules can include complex tooltip patterns:

**Composition:**
- Uses: `Tooltip` atom
- Includes: Arrow indicator
- Supports: Rich content (not just text)

**Props:**
```tsx
interface TooltipProps {
  content: React.ReactNode
  side?: 'top' | 'right' | 'bottom' | 'left'
  align?: 'start' | 'center' | 'end'
  delay?: number
  children: React.ReactNode
}
```

### Data Display Molecules

#### DataTable

**Location:** `packages/ui/src/molecules/DataTable/`

Tabular data display with sorting, filtering, and pagination.

**Composition:**
- Uses: `Table` pattern (semantic HTML table)
- Uses: `Badge` atom (for status indicators)
- Uses: `Button` atom (for actions)
- Uses: `Select` atom (for page size)
- Uses: `Pagination` molecule (for navigation)

**Props:**
```tsx
interface DataTableProps<T> {
  data: T[]
  columns: ColumnDef<T>[]
  pagination?: {
    currentPage: number
    totalPages: number
    pageSize: number
    onPageChange: (page: number) => void
    onPageSizeChange: (size: number) => void
  }
  sorting?: {
    column: keyof T
    direction: 'asc' | 'desc'
    onSort: (column: keyof T, direction: 'asc' | 'desc') => void
  }
  selection?: {
    selectedRows: T[]
    onSelectionChange: (rows: T[]) => void
    getRowId: (row: T) => string
  }
}

interface ColumnDef<T> {
  accessorKey: keyof T
  header: string
  cell?: (row: T) => React.ReactNode
  sortable?: boolean
}
```

**Usage:**
```tsx
interface User {
  id: string
  name: string
  email: string
  role: string
  status: 'active' | 'inactive'
}

const columns: ColumnDef<User>[] = [
  {
    accessorKey: 'name',
    header: 'Name',
    sortable: true,
  },
  {
    accessorKey: 'email',
    header: 'Email',
  },
  {
    accessorKey: 'role',
    header: 'Role',
  },
  {
    accessorKey: 'status',
    header: 'Status',
    cell: (row) => (
      <Badge variant={row.status === 'active' ? 'success' : 'default'}>
        {row.status}
      </Badge>
    ),
  },
]

<DataTable
  data={users}
  columns={columns}
  pagination={{
    currentPage: 1,
    totalPages: 10,
    pageSize: 20,
    onPageChange: (page) => setCurrentPage(page),
    onPageSizeChange: (size) => setPageSize(size),
  }}
  sorting={{
    column: 'name',
    direction: 'asc',
    onSort: (column, direction) => setSorting({ column, direction }),
  }}
/>
```

**Features:**
- Sorting (click column headers)
- Pagination (prev/next, page numbers)
- Row selection (checkbox)
- Responsive (horizontal scroll)
- Loading state
- Empty state
- Error state

**Accessibility:**
- Proper table structure (thead, tbody, th, td)
- `aria-sort` on sortable columns
- `aria-label` on pagination controls
- Keyboard navigation (arrow keys to move, Enter to select)
- Screen reader announcements for sorting/pagination

#### Command

**Location:** `packages/ui/src/molecules/Command/`

Command palette interface for quick actions.

**Composition:**
- Uses: `Input` atom (search field)
- Uses: `SidebarMenuItem` atom pattern (commands)
- Uses: `Badge` atom (for shortcuts)

**Props:**
```tsx
interface CommandProps {
  commands: {
    id: string
    label: string
    icon?: React.ReactNode
    shortcut?: string
    group?: string
    onSelect: () => void
  }[]
  placeholder?: string
  onClose?: () => void
}
```

**Usage:**
```tsx
<Command
  commands={[
    { id: '1', label: 'Go to Dashboard', shortcut: '⌘G', onSelect: () => {} },
    { id: '2', label: 'Create New Project', shortcut: '⌘N', onSelect: () => {} },
    { id: '3', label: 'Settings', shortcut: '⌘,', onSelect: () => {} },
  ]}
  placeholder="Type a command..."
  onClose={() => setIsOpen(false)}
/>
```

**Accessibility:**
- `role="dialog"` on palette
- `aria-label` for search input
- Keyboard navigation (up/down arrows)
- Enter to execute command
- Escape to close
- Groups announced to screen readers

### Content Molecules

#### NavigationMenu

**Location:** `packages/ui/src/molecules/NavigationMenu/`

Multi-level navigation menu with support for nested items.

**Composition:**
- Uses: `SidebarMenuItem` atom pattern
- Can include: `Badge` atom (for indicators)
- Supports: Recursive nesting

**Props:**
```tsx
interface NavigationMenuItem {
  label: string
  icon?: React.ReactNode
  href?: string
  onClick?: () => void
  isActive?: boolean
  badge?: React.ReactNode
  children?: NavigationMenuItem[]
}

interface NavigationMenuProps {
  items: NavigationMenuItem[]
  orientation?: 'horizontal' | 'vertical'
  collapsed?: boolean
  onItemSelect?: (item: NavigationMenuItem) => void
}
```

**Usage:**
```tsx
<NavigationMenu
  items={[
    {
      label: 'Dashboard',
      icon: <DashboardIcon />,
      href: '/dashboard',
    },
    {
      label: 'Products',
      icon: <ProductsIcon />,
      children: [
        { label: 'All Products', href: '/products' },
        { label: 'Categories', href: '/products/categories' },
        { label: 'Inventory', href: '/products/inventory' },
      ],
    },
    {
      label: 'Orders',
      icon: <OrdersIcon />,
      badge: <Badge variant="danger">3</Badge>,
    },
  ]}
  orientation="vertical"
/>
```

#### StackArticle

**Location:** `packages/ui/src/molecules/StackArticle/`

Article layout wrapper with structured content blocks.

**Composition:**
- Uses: `Prose` components (for content)
- Contains: Header, content, footer structure
- Integrates: Media elements, embeds

**Props:**
```tsx
interface StackArticleProps {
  title: string
  author: {
    name: string
    avatar?: string
    bio?: string
  }
  publishedAt: Date
  readingTime?: number
  tags?: string[]
  featuredImage?: {
    src: string
    alt: string
    caption?: string
  }
  children: React.ReactNode
}
```

#### ProseBlock

**Location:** `packages/ui/src/molecules/ProseBlock/`

Rich text content container with full prose system integration.

**Composition:**
- Uses: `.kol-prose` classes
- Contains: Structured rich content
- Integrates: All prose elements (headings, lists, blockquotes, code, etc.)

**Props:**
```tsx
interface ProseBlockProps {
  variant?: 'standard' | 'wide' | 'compact'
  children: React.ReactNode
  className?: string
}
```

## Composition Patterns

### Compound Components

Molecules often use compound components for flexibility:

```tsx
// Card - compound component pattern
<Card>
  <Card.Header>
    <Card.Title>Title</Card.Title>
  </Card.Header>
  <Card.Content>Content</Card.Content>
  <Card.Footer>Footer</Card.Footer>
</Card>

// Tabs - controlled/uncontrolled
<Tabs defaultValue="tab1">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
  </TabsList>
  <TabsContent value="tab1">Content</TabsContent>
</Tabs>
```

### Render Props

For flexible content rendering:

```tsx
<DataTable
  data={users}
  columns={[
    {
      accessorKey: 'name',
      header: 'Name',
      cell: (row) => (
        <div className="flex items-center gap-2">
          <Avatar src={row.avatar} name={row.name} />
          <span>{row.name}</span>
        </div>
      ),
    },
  ]}
/>
```

### Context Providers

Some molecules use context for state management:

```tsx
// Tabs manages active tab internally
function Tabs({ defaultValue, children }) {
  const [value, setValue] = useState(defaultValue)
  // ... context logic

  return (
    <TabsContext.Provider value={{ value, setValue }}>
      {children}
    </TabsContext.Provider>
  )
}
```

## Best Practices

### Do's

✅ Keep molecules focused on a single purpose
✅ Compose atoms meaningfully
✅ Maintain accessibility from atoms
✅ Use semantic HTML structure
✅ Support both controlled and uncontrolled
✅ Provide sensible defaults
✅ Handle all states (loading, empty, error)
✅ Use design tokens consistently
✅ Test with real content
✅ Document composition patterns

### Don'ts

❌ Create molecules that depend on other molecules
❌ Mix too many atom types (2-5 max)
❌ Duplicate logic that's in organisms
❌ Forget keyboard accessibility
❌ Hardcode layout (use composition)
❌ Skip error/loading states
❌ Ignore responsive behavior
❌ Break atomic principles
❌ Over-engineer the API
❌ Forget to test screen readers

## State Management

### Controlled vs Uncontrolled

```tsx
// Controlled - parent manages state
<Tabs value={activeTab} onValueChange={setActiveTab}>
  {/* ... */}
</Tabs>

// Uncontrolled - molecule manages state
<Tabs defaultValue="tab1">
  {/* ... */}
</Tabs>
```

### Shared State

When molecules need to share state:

```tsx
// Use composition, not global state
function Form() {
  const [values, setValues] = useState({})

  return (
    <>
      <Input
        label="Email"
        value={values.email}
        onChange={(v) => setValues({ ...values, email: v })}
      />
      <Textarea
        label="Message"
        value={values.message}
        onChange={(v) => setValues({ ...values, message: v })}
      />
    </>
  )
}
```

## Accessibility in Molecules

### Compound Component Accessibility

```tsx
// Ensure compound components maintain accessibility
<Tabs>
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
  </TabsList>
  <TabsContent value="tab1">Content</TabsContent>
</Tabs>

// All children have proper ARIA attributes
// Keyboard navigation works correctly
// Screen readers can navigate the structure
```

### Focus Management

```tsx
// Manage focus within molecules
function DropdownMenu({ trigger, children, open, onClose }) {
  const menuRef = useRef<HTMLDivElement>(null)

  // Focus first item when opened
  useEffect(() => {
    if (open && menuRef.current) {
      menuRef.current.querySelector<HTMLElement>('[role="menuitem"]')?.focus()
    }
  }, [open])

  // Return focus to trigger when closed
  useEffect(() => {
    if (!open && triggerRef.current) {
      triggerRef.current.focus()
    }
  }, [open])

  return (
    <div>
      {trigger}
      {open && (
        <div ref={menuRef} role="menu">
          {children}
        </div>
      )}
    </div>
  )
}
```

## Testing Molecules

### Unit Tests

```tsx
// Card.test.tsx
import { render, screen } from '@testing-library/react'
import { Card } from './Card'

describe('Card', () => {
  it('renders with title', () => {
    render(
      <Card>
        <Card.Header>
          <Card.Title>Test Title</Card.Title>
        </Card.Header>
      </Card>
    )
    expect(screen.getByText('Test Title')).toBeInTheDocument()
  })

  it('renders content', () => {
    render(
      <Card>
        <Card.Content>Test Content</Card.Content>
      </Card>
    )
    expect(screen.getByText('Test Content')).toBeInTheDocument()
  })

  it('applies variant class', () => {
    const { container } = render(
      <Card variant="elevated">
        <Card.Content>Content</Card.Content>
      </Card>
    )
    expect(container.firstChild).toHaveClass('kol-card-elevated')
  })
})
```

### Integration Tests

```tsx
// Tabs.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import userEvent from '@testing-library/user-event'
import { Tabs } from './Tabs'

describe('Tabs', () => {
  it('switches content when tab is clicked', async () => {
    const user = userEvent.setup()

    render(
      <Tabs defaultValue="tab1">
        <TabsList>
          <TabsTrigger value="tab1">Tab 1</TabsTrigger>
          <TabsTrigger value="tab2">Tab 2</TabsTrigger>
        </TabsList>
        <TabsContent value="tab1">Content 1</TabsContent>
        <TabsContent value="tab2">Content 2</TabsContent>
      </Tabs>
    )

    await user.click(screen.getByText('Tab 2'))
    expect(screen.getByText('Content 2')).toBeInTheDocument()
    expect(screen.queryByText('Content 1')).not.toBeInTheDocument()
  })

  it('supports keyboard navigation', async () => {
    const user = userEvent.setup()

    render(
      <Tabs defaultValue="tab1">
        <TabsList>
          <TabsTrigger value="tab1">Tab 1</TabsTrigger>
          <TabsTrigger value="tab2">Tab 2</TabsTrigger>
        </TabsList>
        <TabsContent value="tab1">Content 1</TabsContent>
        <TabsContent value="tab2">Content 2</TabsContent>
      </Tabs>
    )

    // Press arrow right
    await user.keyboard('{ArrowRight}')
    expect(screen.getByText('Content 2')).toBeInTheDocument()
  })
})
```

### Accessibility Tests

```tsx
// jest-axe integration for molecules
import { axe, toHaveNoViolations } from 'jest-axe'
import { render } from '@testing-library/react'

expect.extend(toHaveNoViolations)

it('has no accessibility violations', async () => {
  const { container } = render(
    <Card>
      <Card.Header>
        <Card.Title>Title</Card.Title>
      </Card.Header>
      <Card.Content>Content</Card.Content>
    </Card>
  )
  const results = await axe(container)
  expect(results).toHaveNoViolations()
})
```

## Related Documentation

**Components:**
- [3.0.0 Design System: Components Overview](3.0.0-design-system-components.md) - Atomic design methodology
- [3.1.0 Design System: Atoms](3.1.0-design-system-atoms.md) - Basic building blocks
- [3.3.0 Design System: Organisms](3.3.0-design-system-organisms.md) - Complex sections

**Design System:**
- [2.3.0 Design System: CSS Architecture](2.3.0-design-system-css-architecture.md) - Layer structure
- [2.4.0 Design System: Prose](2.4.0-design-system-prose.md) - Prose integration

**Research:**
- [6.1.0 Research: Data Tables](6.1.0-research-data-tables.md) - Data table patterns
- [6.2.0 Research: Typography](6.2.0-research-typography.md) - Typography in components

---

**File Locations:**
- **Components:** `packages/ui/src/molecules/`
- **Styles:** `packages/ui/css/components.css`
- **Tests:** `packages/ui/src/molecules/*/*.test.tsx`
- **Stories:** `packages/ui/src/molecules/*/*.stories.tsx`

---

**Last Updated:** 2025-11-04
**Cross-References:** 3.0.0, 3.1.0, 3.3.0, 2.3.0, 2.4.0, 6.1.0, 6.2.0
**Category:** Design System
**Status:** Active
